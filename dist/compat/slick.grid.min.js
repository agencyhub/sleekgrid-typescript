var Slick = Slick || {};
var Slick_=(()=>{var H=Object.defineProperty;var K=Object.getOwnPropertyDescriptor;var J=Object.getOwnPropertyNames;var Y=Object.prototype.hasOwnProperty;var q=(p,e)=>{for(var t in e)H(p,t,{get:e[t],enumerable:!0})},Z=(p,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of J(e))!Y.call(p,i)&&i!==t&&H(p,i,{get:()=>e[i],enumerable:!(s=K(e,i))||s.enumerable});return p};var ee=p=>Z(H({},"__esModule",{value:!0}),p);var te={};q(te,{Grid:()=>N,columnDefaults:()=>P,gridDefaults:()=>A});var P={name:"",nameIsHtml:!1,resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,footerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0};var{Event:f,EventData:k,GlobalEditorLock:B,keyCode:L,NonDataRow:W,preClickClassName:V,Range:O}=Slick;var S,M;function T(p,e){if((e==null?void 0:e.frozenColumn)==null){delete e.frozenColumn;return}var t=e.frozenColumn+1;e.frozenColumn=-1;for(var s=0;s<p.length;){var i=p[s++];t>0&&i.visible!==!1?(i.frozen=!0,e.frozenColumn++,t--):i.frozen!==void 0&&delete i.frozen}}function E(p){return p==null?"":p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function G(p,e,t){return z(t)}function x(p){p&&(p.setAttribute("unselectable","on"),p.style.userSelect="none",p.addEventListener("selectstart",()=>!1))}function F(){return S!=null?S:navigator.userAgent.toLowerCase().match(/gecko\//)?4e6:32e6}function D(p){if(!M||p){var e=document.body.appendChild(v("div",{style:"position:absolute;top:-10000px;left:-10000px;width:100px;height:100px;overflow: scroll;border:0"}));M={width:Math.round(e.offsetWidth-e.clientWidth),height:Math.round(e.offsetWidth-e.clientHeight)},e.remove()}return M}function v(p,e,...t){var s=document.createElement(p),i,o,r;if(e)for(i in e)o=e[i],o!=null&&o!==!1&&s.setAttribute(i,o===!0?"":o);if(t)for(r of t)s.appendChild(r);return s}function z(p){return(p+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function X(p,e){if(!Array.isArray(p)||!Array.isArray(e)||p.length!==e.length)return!1;p.sort(),e.sort();for(var t=0;t<p.length;t++)if(p[t]!==e[t])return!1;return!0}function I(p,e){if(e.length==0)return p;for(var t={},s={},i=[],o=0;o<e.length;o++)t[e[o]]=o;for(o=0;o<p.length;o++)s[p[o].id]=o;function r(a){for(var d=a;d<p.length;d++){var u=p[d];if(a!=d&&t[u.id]!=null)break;i.push(u),s[u.id]=null}}t[p[0].id]==null&&r(0);for(var l of e)o=s[l],o!=null&&r(o);for(o=0;o<p.length;o++){var n=p[o];s[n.id]!=null&&(i.push(n),s[n.id]=null)}return i}function U(){var p;(p=this==null?void 0:this.classList)==null||p.add("ui-state-hover")}function j(){var p;(p=this==null?void 0:this.classList)==null||p.remove("ui-state-hover")}var A={addNewRowCssClass:"new-row",alwaysAllowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,asyncEditorLoadDelay:100,asyncEditorLoading:!1,asyncPostCleanupDelay:40,asyncPostRenderDelay:50,autoEdit:!0,autoHeight:!1,cellFlashingCssClass:"flashing",dataItemColumnValueExtractor:null,defaultColumnWidth:80,defaultFormatter:G,editable:!1,editorFactory:null,editorLock:B,enableAddRow:!1,enableAsyncPostRender:!1,enableAsyncPostRenderCleanup:!1,enableCellNavigation:!0,enableColumnReorder:!0,enableTabKeyNavigation:!0,enableTextSelectionOnCells:!1,explicitInitialization:!1,footerRowHeight:25,forceFitColumns:!1,forceSyncScrolling:!1,formatterFactory:null,frozenBottom:!1,frozenRow:-1,fullWidthRows:!1,groupingPanel:!1,groupingPanelHeight:34,headerRowHeight:25,leaveSpaceForNewRows:!1,useLegacyUI:!0,minBuffer:3,multiColumnSort:!1,multiSelect:!0,renderAllCells:!1,rowHeight:25,selectedCellCssClass:"selected",showCellSelection:!0,showColumnHeader:!0,showFooterRow:!1,showGroupingPanel:!0,showHeaderRow:!1,showTopPanel:!1,suppressActiveCellChangeOnEdit:!1,topPanelHeight:25};var N=class{constructor(e,t,s,i){this._activeCellNode=null;this._actualFrozenRow=-1;this._cellCssClasses={};this._cellHeightDiff=0;this._cellWidthDiff=0;this._colLeft=[];this._colRight=[];this._currentEditor=null;this._footerRowH=0;this._frozenRowsHeight=0;this._groupingPanelH=0;this._hasFrozenRows=!1;this._headerColumnWidthDiff=0;this._headerRowH=0;this._hEditorLoader=null;this._hPostRender=null;this._hPostRenderCleanup=null;this._hRender=null;this._ignoreScrollUntil=0;this._initialized=!1;this._numVisibleRows=0;this._page=0;this._pageOffset=0;this._pagingActive=!1;this._pagingIsLastPage=!1;this._paneBottomH=0;this._paneTopH=0;this._plugins=[];this._postProcessCleanupQueue=[];this._postProcessedRows={};this._postProcessFromRow=null;this._postProcessGroupId=0;this._postProcessToRow=null;this._rowsCache={};this._rtl=!1;this._rtlE="right";this._rtlS="left";this._scrollLeft=0;this._scrollLeftPrev=0;this._scrolLLeftRendered=0;this._scrollTop=0;this._scrollTopPrev=0;this._scrollTopRendered=0;this._selectedRows=[];this._sortColumns=[];this._tabbingDirection=1;this._topPanelH=0;this._uid="sleekgrid_"+Math.round(1e6*Math.random());this._viewportTopH=0;this._vScrollDir=1;this._boundAncestorScroll=[];this.onActiveCellChanged=new f;this.onActiveCellPositionChanged=new f;this.onAddNewRow=new f;this.onBeforeCellEditorDestroy=new f;this.onBeforeDestroy=new f;this.onBeforeEditCell=new f;this.onBeforeFooterRowCellDestroy=new f;this.onBeforeHeaderCellDestroy=new f;this.onBeforeHeaderRowCellDestroy=new f;this.onCellChange=new f;this.onCellCssStylesChanged=new f;this.onClick=new f;this.onColumnsReordered=new f;this.onColumnsResized=new f;this.onContextMenu=new f;this.onDblClick=new f;this.onDrag=new f;this.onDragEnd=new f;this.onDragInit=new f;this.onDragStart=new f;this.onFooterRowCellRendered=new f;this.onHeaderCellRendered=new f;this.onHeaderClick=new f;this.onHeaderContextMenu=new f;this.onHeaderMouseEnter=new f;this.onHeaderMouseLeave=new f;this.onHeaderRowCellRendered=new f;this.onKeyDown=new f;this.onMouseEnter=new f;this.onMouseLeave=new f;this.onScroll=new f;this.onSelectedRowsChanged=new f;this.onSort=new f;this.onValidationError=new f;this.onViewportChanged=new f;this.handleSelectedRangesChanged=(e,t)=>{var s=this._selectedRows.slice(0);this._selectedRows=[];for(var d={},u=this._cols,i=0;i<t.length;i++)for(var o=t[i].fromRow;o<=t[i].toRow;o++){d[o]||(this._selectedRows.push(o),d[o]={});for(var r=t[i].fromCell;r<=t[i].toCell;r++)this.canCellBeSelected(o,r)&&(d[o][u[r].id]=this._options.selectedCellCssClass)}if(this.setCellCssStyles(this._options.selectedCellCssClass,d),!X(s,this._selectedRows)){var l=e&&e.detail&&e.detail.caller||"click",n=this._selectedRows.filter(h=>s.indexOf(h)<0),a=s.filter(h=>this._selectedRows.indexOf(h)<0);this.trigger(this.onSelectedRowsChanged,{rows:this.getSelectedRows(),previousSelectedRows:s,caller:l,changedSelectedRows:n,changedUnselectedRows:a},e)}this._selectedRows=[];for(var d={},u=this._cols,i=0;i<t.length;i++)for(var o=t[i].fromRow;o<=t[i].toRow;o++){d[o]||(this._selectedRows.push(o),d[o]={});for(var r=t[i].fromCell;r<=t[i].toCell;r++)this.canCellBeSelected(o,r)&&(d[o][u[r].id]=this._options.selectedCellCssClass)}};this.viewOnRowCountChanged=()=>{this.updateRowCount(),this.render()};this.viewOnRowsChanged=(e,t)=>{this.invalidateRows(t.rows),this.render(),this.updateFooterTotals()};this.viewOnDataChanged=()=>{this.invalidate(),this.render()};this.resizeCanvas=()=>{if(!!this._initialized){this._paneTopH=0,this._paneBottomH=0,this._viewportTopH=0,this.getViewportWidth(),this.getViewportHeight(),this._hasFrozenRows?this._options.frozenBottom?(this._paneTopH=this._viewportH-this._frozenRowsHeight-this._scrollDims.height,this._paneBottomH=this._frozenRowsHeight+this._scrollDims.height):(this._paneTopH=this._frozenRowsHeight,this._paneBottomH=this._viewportH-this._frozenRowsHeight):this._paneTopH=this._viewportH,this._paneTopH+=this._topPanelH+this._headerRowH+this._footerRowH,this.hasFrozenColumns()&&this._options.autoHeight&&(this._paneTopH+=this._scrollDims.height),this._viewportTopH=this._paneTopH-this._topPanelH-this._headerRowH-this._footerRowH,this._options.autoHeight?(this.hasFrozenColumns()&&(this._container.style.height=this._paneTopH+parseFloat(getComputedStyle(this._headerColsL.parentElement).height)+"px"),this._paneTopL.style.position="relative"):this._paneTopL.style.position="",this._paneTopL.style.top=(parseFloat(getComputedStyle(this._paneHeaderL).height)||(this._options.showHeaderRow?this._options.headerRowHeight:0)+this._groupingPanelH)+"px",this._paneTopL.style.height=this._paneTopH+"px";var e=this._paneTopL.offsetTop+this._paneTopH;this._options.autoHeight||(this._viewportTopL.style.height=this._viewportTopH+"px"),this.hasFrozenColumns()?(this._paneTopR.style.top=this._paneTopL.style.top,this._paneTopR.style.height=this._paneTopH+"px",this._viewportTopR.style.height=this._viewportTopH+"px",this._hasFrozenRows&&(this._paneBottomL.style.top=e+"px",this._paneBottomL.style.height=this._paneBottomH+"px",this._paneBottomR.style.top=e+"px",this._paneBottomR.style.height=this._paneBottomH+"px",this._viewportBottomR.style.height=this._paneBottomH+"px")):this._hasFrozenRows&&(this._paneBottomL.style.width="100%",this._paneBottomL.style.height=this._paneBottomH+"px",this._paneBottomL.style.top=e+"px"),this._hasFrozenRows?(this._viewportBottomL.style.height=this._paneBottomH+"px",this._options.frozenBottom?(this._canvasBottomL.style.height=this._frozenRowsHeight+"px",this.hasFrozenColumns()&&(this._canvasBottomR.style.height=this._frozenRowsHeight+"px")):(this._canvasTopL.style.height=this._frozenRowsHeight+"px",this.hasFrozenColumns()&&(this._canvasTopR.style.height=this._frozenRowsHeight+"px"))):this._viewportTopR.style.height=this._viewportTopH+"px",(!this._scrollDims||!this._scrollDims.width)&&(this._scrollDims=D(!0)),this._options.forceFitColumns&&this.autosizeColumns(),this.updateRowCount(),this.handleScroll(),this._scrolLLeftRendered=-1,this.render()}};this.handleHeaderRowScroll=()=>{if(!(this._ignoreScrollUntil>=new Date().getTime())){var e=this.hasFrozenColumns?this._headerRowColsR.parentElement.scrollLeft:this._headerRowColsL.parentElement.scrollLeft;e!=this._scrollContainerX.scrollLeft&&(this._scrollContainerX.scrollLeft=e)}};this.handleFooterRowScroll=()=>{if(!(this._ignoreScrollUntil>=new Date().getTime())){var e=this.hasFrozenColumns?this._footerRowColsR.parentElement.scrollLeft:this._footerRowColsL.parentElement.scrollLeft;e!=this._scrollContainerX.scrollLeft&&(this._scrollContainerX.scrollLeft=e)}};this.handleActiveCellPositionChange=()=>{if(!!this._activeCellNode&&(this.trigger(this.onActiveCellPositionChanged,{}),this._currentEditor)){var e=this.getActiveCellPosition();this._currentEditor.show&&this._currentEditor.hide&&(e.visible?this._currentEditor.show():this._currentEditor.hide()),this._currentEditor.position&&this._currentEditor.position(e)}};if(this._data=t,this._colDefaults=Object.assign({},P),typeof jQuery!="undefined"&&e instanceof jQuery?this._container=e[0]:e instanceof Element?this._container=e:typeof e=="string"&&(this._container=document.querySelector(e)),this._container==null)throw new Error("SleekGrid requires a valid container, "+e+" does not exist in the DOM.");this._rtl=document.body.classList.contains("rtl")||typeof getComputedStyle!="undefined"&&getComputedStyle(this._container).direction=="rtl",this._rtl&&(this._rtlS="right",this._rtlE="left"),i=Object.assign({},A,i),this._options=i,this.validateAndEnforceOptions(),this._colDefaults.width=i.defaultColumnWidth,T(s,this._options),this.setInitialCols(s),this._editController={commitCurrentEdit:this.commitCurrentEdit.bind(this),cancelCurrentEdit:this.cancelCurrentEdit.bind(this)},typeof $!="undefined"?$(this._container).empty():this._container.innerHTML="",this._container.style.overflow="hidden",this._container.style.outline="0",this._container.classList.add(this._uid),this._options.useLegacyUI&&this._container.classList.add("ui-widget"),/relative|absolute|fixed/.test(getComputedStyle(this._container).position)||(this._container.style.position="relative"),this._container.appendChild(this._focusSink1=v("div",{class:"slick-focus-sink",hideFocus:"",style:"position:fixed;width:0!important;height:0!important;top:0;left:0;outline:0!important;",tabIndex:"0"})),i.groupingPanel&&this._container.appendChild(this._groupingPanel=v("div",{class:"slick-grouping-panel",style:"overflow:hidden; position:relative;"+(i.showGroupingPanel?"":" display: none")}));let o=this._options.useLegacyUI?" ui-state-default":"";var r=this.getCanvasWidth()+(this._scrollDims=D()).width+"px";this._paneHeaderL=v("div",{class:"slick-pane slick-pane-header slick-pane-left",tabIndex:"0"},v("div",{class:"slick-header slick-header-left"+o,style:!i.showColumnHeader&&"display: none"},this._headerColsL=v("div",{class:"slick-header-columns slick-header-columns-left",style:this._rtlS+":-1000px"}))),this._paneHeaderR=v("div",{class:"slick-pane slick-pane-header slick-pane-right",tabIndex:"0"},v("div",{class:"slick-header slick-header-right"+o,style:!i.showColumnHeader&&"display: none"},this._headerColsR=v("div",{class:"slick-header-columns slick-header-columns-right",style:this._rtlS+":-1000px"})));var l=v("div",{class:"slick-headerrow"+o,style:!i.showHeaderRow&&"display: none"},this._headerRowColsL=v("div",{class:"slick-headerrow-columns slick-headerrow-columns-left"}),this._headerRowSpacerL=v("div",{style:"display:block;height:1px;position:absolute;top:0;left:0;",width:r})),n=v("div",{class:"slick-top-panel-scroller"+o,style:!i.showTopPanel&&"display: none"},this._topPanelL=v("div",{class:"slick-top-panel",style:"width: 10000px"}));this._viewportTopL=v("div",{class:"slick-viewport slick-viewport-top slick-viewport-left",tabIndex:"0",hideFocus:""},this._canvasTopL=v("div",{class:"grid-canvas grid-canvas-top grid-canvas-left",tabIndex:"0",hideFocus:""}));var a=v("div",{class:"slick-footerrow"+o,style:!i.showFooterRow&&"display: none"},this._footerRowColsL=v("div",{class:"slick-footerrow-columns slick-footerrow-columns-left"}),this._footerRowSpacerL=v("div",{style:"display:block;height:1px;position:absolute;top:0;left:0;",width:r}));this._paneTopL=v("div",{class:"slick-pane slick-pane-top slick-pane-left",tabIndex:"0"},l,n,this._viewportTopL,a);var d=v("div",{class:"slick-headerrow"+o,style:!i.showHeaderRow&&"display: none"},this._headerRowColsR=v("div",{class:"slick-headerrow-columns slick-headerrow-columns-right"}),this._headerRowSpacerR=v("div",{style:"display:block;height:1px;position:absolute;top:0;left:0;",width:r})),u=v("div",{class:"slick-top-panel-scroller"+o,style:!i.showTopPanel&&"display: none"},this._topPanelR=v("div",{class:"slick-top-panel",style:"width: 10000px"}));this._viewportTopR=v("div",{class:"slick-viewport slick-viewport-top slick-viewport-right",tabIndex:"0",hideFocus:""},this._canvasTopR=v("div",{class:"grid-canvas grid-canvas-top grid-canvas-right",tabIndex:"0",hideFocus:""}));var h=v("div",{class:"slick-footer-row"+o,style:!i.showFooterRow&&"display: none"},this._footerRowColsR=v("div",{class:"slick-footerrow-columns slick-footerrow-columns-right"}),this._footerRowSpacerR=v("div",{style:"display:block;height:1px;position:absolute;top:0;left:0;",width:r}));this._paneTopR=v("div",{class:"slick-pane slick-pane-top slick-pane-right",tabIndex:"0"},d,u,this._viewportTopR,h),this._paneBottomL=v("div",{class:"slick-pane slick-pane-bottom slick-pane-left",tabIndex:"0"},this._viewportBottomL=v("div",{class:"slick-viewport slick-viewport-bottom slick-viewport-left",tabIndex:"0",hideFocus:""},this._canvasBottomL=v("div",{class:"grid-canvas grid-canvas-bottom grid-canvas-left",tabIndex:"0",hideFocus:""}))),this._paneBottomR=v("div",{class:"slick-pane slick-pane-bottom slick-pane-right",tabIndex:"0"},this._viewportBottomR=v("div",{class:"slick-viewport slick-viewport-bottom slick-viewport-right",tabIndex:"0",hideFocus:""}),this._canvasBottomR=v("div",{class:"grid-canvas grid-canvas-bottom grid-canvas-right",tabIndex:"0",hideFocus:""})),this._container.append(this._paneHeaderL,this._paneHeaderR,this._paneTopL,this._paneTopR,this._paneBottomL,this._focusSink2=this._focusSink1.cloneNode()),i.viewportClass&&this.getViewports().forEach(m=>m.classList.add(i.viewportClass)),i.explicitInitialization||this.init(),this.bindToData()}init(){if(!this._initialized){this._initialized=!0,this.getViewportWidth(),this.getViewportHeight(),this.measureCellPaddingAndBorder(),x(this._headerColsL),x(this._headerColsR);var e=this.getViewports();typeof $!="undefined"&&!this._options.enableTextSelectionOnCells&&$(e).on("selectstart.ui",function(){return $(this).is("input,textarea")}),this.adjustFrozenRowOption(),this.setPaneVisibility(),this.setScroller(),this.setOverflow(),this.updateViewColLeftRight(),this.createColumnHeaders(),this.createColumnFooters(),this.setupColumnSort(),this.createCssRules(),this.resizeCanvas(),this.bindAncestorScrollEvents(),this._container.addEventListener("resize",this.resizeCanvas),e.forEach(s=>s.addEventListener("scroll",this.handleScroll.bind(this))),typeof $!="undefined"&&$.fn.mousewheel&&(this.hasFrozenColumns()||this._hasFrozenRows)&&$(e).on("mousewheel",this.handleMouseWheel.bind(this)),[this._headerColsL.parentElement,this._headerColsR.parentElement].forEach(s=>{s.addEventListener("contextmenu",this.handleHeaderContextMenu.bind(this)),s.addEventListener("click",this.handleHeaderClick.bind(this)),s.addEventListener("mouseenter",i=>i.target.closest(".slick-header-column")&&this.handleHeaderMouseEnter(i)),s.addEventListener("mouseleave",i=>i.target.closest(".slick-header-column")&&this.handleHeaderMouseLeave(i))}),this._headerRowColsL.parentElement.addEventListener("scroll",this.handleHeaderRowScroll),this._headerRowColsR.parentElement.addEventListener("scroll",this.handleHeaderRowScroll),this._footerRowColsL.parentElement.addEventListener("scroll",this.handleFooterRowScroll),this._footerRowColsR.parentElement.addEventListener("scroll",this.handleFooterRowScroll),[this._focusSink1,this._focusSink2].forEach(s=>s.addEventListener("keydown",this.handleKeyDown.bind(this)));var t=Array.from(this.getCanvases());t.forEach(s=>{s.addEventListener("keydown",this.handleKeyDown.bind(this)),s.addEventListener("click",this.handleClick.bind(this)),s.addEventListener("dblclick",this.handleDblClick.bind(this)),s.addEventListener("contextmenu",this.handleContextMenu.bind(this))}),typeof $!="undefined"&&$.fn.drag&&$(t).on("draginit",this.handleDragInit.bind(this)).on("dragstart",{distance:3},this.handleDragStart.bind(this)).on("drag",this.handleDrag.bind(this)).on("dragend",this.handleDragEnd.bind(this)),t.forEach(s=>{s.addEventListener("mouseenter",i=>i.target.closest(".slick-cell")&&this.handleMouseEnter(i)),s.addEventListener("mouseleave",i=>i.target.closest(".slick-cell")&&this.handleMouseLeave(i))}),navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&typeof $!="undefined"&&$(t).on("mousewheel",this.handleMouseWheel.bind(this))}}hasFrozenColumns(){return this._frozenCols>0}registerPlugin(e){this._plugins.unshift(e),e.init(this)}unregisterPlugin(e){for(var t=this._plugins.length;t>=0;t--)if(this._plugins[t]===e){this._plugins[t].destroy&&this._plugins[t].destroy(),this._plugins.splice(t,1);break}}getPluginByName(e){for(var t=this._plugins.length-1;t>=0;t--)if(this._plugins[t].pluginName===e)return this._plugins[t]}setSelectionModel(e){this._selectionModel&&(this._selectionModel.onSelectedRangesChanged.unsubscribe(this.handleSelectedRangesChanged),this._selectionModel.destroy&&this._selectionModel.destroy()),this._selectionModel=e,this._selectionModel&&(this._selectionModel.init(this),this._selectionModel.onSelectedRangesChanged.subscribe(this.handleSelectedRangesChanged))}getScrollBarDimensions(){return this._scrollDims}getDisplayedScrollbarDimensions(){return{width:this._viewportHasVScroll?this._scrollDims.width:0,height:this._viewportHasHScroll?this._scrollDims.height:0}}getAbsoluteColumnMinWidth(){return this._absoluteColMinWidth}getSelectionModel(){return this._selectionModel}getCanvasNode(){return this._canvasTopL}getCanvases(){var e=[this._canvasTopL,this._canvasTopR,this._canvasBottomL,this._canvasBottomR];return typeof $!="undefined"?$(e):e}getActiveCanvasNode(e){return this.setActiveCanvasNode(e),this._activeCanvasNode}setActiveCanvasNode(e){e&&(this._activeCanvasNode=e.target.closest(".grid-canvas"))}getViewportNode(){return this._viewportTopL}getViewports(){return[this._viewportTopL,this._viewportTopR,this._viewportBottomL,this._viewportBottomR]}getActiveViewportNode(e){return this.setActiveViewportNode(e),this._activeViewportNode}setActiveViewportNode(e){e&&(this._activeViewportNode=e.target.closest(".slick-viewport"))}calcHeaderWidths(){this._headersWidthL=this._headersWidthR=0;for(var e=this._scrollDims.width,t=this._cols,s=this._frozenCols,i=0,o=t.length;i<o;i++){var r=t[i].width;s>0&&i>=s?this._headersWidthR+=r:this._headersWidthL+=r}s>0?(this._headersWidthL=this._headersWidthL+1e3,this._headersWidthR=Math.max(this._headersWidthR,this._viewportW)+this._headersWidthL,this._headersWidthR+=e):(this._headersWidthL+=e,this._headersWidthL=Math.max(this._headersWidthL,this._viewportW)+1e3)}getCanvasWidth(){var e=this._viewportHasVScroll?this._viewportW-this._scrollDims.width:this._viewportW,t=this._cols,s=t.length,i=this._frozenCols;for(this._canvasWidthL=this._canvasWidthR=0;s--;)i>0&&s>=i?this._canvasWidthR+=t[s].width:this._canvasWidthL+=t[s].width;var o=this._canvasWidthL+this._canvasWidthR;return this._options.fullWidthRows?Math.max(o,e):o}updateCanvasWidth(e){var t=this._canvasWidth,s=this._canvasWidthL,i=this._canvasWidthR,o;this._canvasWidth=this.getCanvasWidth();var r=this._scrollDims.width;if(o=this._canvasWidth!==t||this._canvasWidthL!==s||this._canvasWidthR!==i,o||this.hasFrozenColumns()||this._hasFrozenRows){var l=this._canvasWidthL+"px",n=this._canvasWidthR+"px";if(this._canvasTopL.style.width=l,this.calcHeaderWidths(),this._headerColsL.style.width=this._headersWidthL+"px",this._headerColsR.style.width=this._headersWidthR+"px",this._groupingPanel&&(this._groupingPanel.style.width=this._canvasWidth+"px"),this.hasFrozenColumns()){var a=this._viewportW-this._canvasWidthL+"px";this._canvasTopR.style.width=n,this._paneHeaderL.style.width=l,this._paneHeaderR.style[this._rtlS]=l,this._paneHeaderR.style.width=a,this._paneTopL.style.width=l,this._paneTopR.style[this._rtlS]=l,this._paneTopR.style.width=a,this._headerRowColsL.style.width=l,this._headerRowColsL.parentElement.style.width=l,this._headerRowColsR.style.width=n,this._headerRowColsR.parentElement.style.width=a,this._footerRowColsL.style.width=l,this._footerRowColsL.parentElement.style.width=l,this._footerRowColsR.style.width=n,this._footerRowColsR.parentElement.style.width=a,this._viewportTopL.style.width=l,this._viewportTopR.style.width=a,this._hasFrozenRows&&(this._paneBottomL.style.width=l,this._paneBottomR.style[this._rtlS]=l,this._viewportBottomL.style.width=l,this._viewportBottomR.style.width=a,this._canvasBottomL.style.width=l,this._canvasBottomR.style.width=n)}else this._paneHeaderL.style.width="100%",this._paneTopL.style.width="100%",this._headerRowColsL.parentElement.style.width="100%",this._headerRowColsL.style.width=this._canvasWidth+"px",this._footerRowColsL.parentElement.style.width="100%",this._footerRowColsL.style.width=this._canvasWidth+"px",this._viewportTopL.style.width="100%",this._hasFrozenRows&&(this._viewportBottomL.style.width="100%",this._canvasBottomL.style.width=l);this._viewportHasHScroll=this._canvasWidth>this._viewportW-r}var d=this._canvasWidth+(this._viewportHasVScroll?r:0)+"px";this._headerRowSpacerL.style.width=d,this._headerRowSpacerR.style.width=d,this._footerRowSpacerL.style.width=d,this._footerRowSpacerR.style.width=d,(o||e)&&this.applyColumnWidths()}bindAncestorScrollEvents(){for(var e=this._hasFrozenRows&&!this._options.frozenBottom?this._canvasBottomL:this._canvasTopL;(e=e.parentNode)!=document.body&&e!=null;)(e==this._viewportTopL||e.scrollWidth!=e.clientWidth||e.scrollHeight!=e.clientHeight)&&(e.addEventListener("scroll",this.handleActiveCellPositionChange),this._boundAncestorScroll.push(e))}unbindAncestorScrollEvents(){if(this._boundAncestorScroll)for(var e of this._boundAncestorScroll)e.removeEventListener("scroll",this.handleActiveCellPositionChange);this._boundAncestorScroll=[]}updateColumnHeader(e,t,s){if(!!this._initialized){var i=this.getColumnIndex(e);if(i!=null){var o=this._cols[i],r=this._frozenCols>0&&i>=this._frozenCols?this._headerColsR.children.item(i-this._frozenCols):this._headerColsL.children.item(i);if(!!r){t!==void 0&&(o.name=t),s!==void 0&&(o.toolTip=s),this.trigger(this.onBeforeHeaderCellDestroy,{node:r,column:o}),r.title=s||"";var l=r.firstElementChild;l&&(l.innerHTML=t),this.trigger(this.onHeaderCellRendered,{node:r,column:o})}}}}getHeader(){return this._headerColsL}getHeaderColumn(e){var t=typeof e=="number"?e:this.getColumnIndex(e);return t==null?null:this._frozenCols>0&&t>=this._frozenCols?this._headerColsR.children.item(t-this._frozenCols):this._headerColsL.children.item(t)}getGroupingPanel(){return this._groupingPanel}getHeaderRow(){return this._headerRowColsL}getHeaderRowColumn(e){var t=this.getColumnIndex(e);if(t!=null){var s,i=this._frozenCols;return i<=0||t<i?s=this._headerRowColsL:(s=this._headerRowColsR,t-=i),s.childNodes.item(t)}}getFooterRow(){return this._footerRowColsL}getFooterRowColumn(e){var t=this.getColumnIndex(e);if(t==null)return null;var s,i=this._frozenCols;return i<=0||t<i?s=this._footerRowColsL:(s=this._footerRowColsR,t-=i),s.childNodes.item(t)}createColumnFooters(){[this._footerRowColsL,this._footerRowColsR].forEach(l=>l.querySelectorAll(".slick-footerrow-column").forEach(n=>{var a=this.getColumnFromNode(n);a&&this.trigger(this.onBeforeFooterRowCellDestroy,{node:n,column:a})}));let e=typeof $!="undefined";e?($(this._footerRowColsL).empty(),$(this._footerRowColsR).empty()):(this._footerRowColsL.innerHTML="",this._footerRowColsR.innerHTML="");for(var t=this._cols,s=this._frozenCols,i=0;i<t.length;i++){var o=t[i],r=v("div",{class:"slick-footerrow-column l"+i+" r"+i+(this._options.useLegacyUI?" ui-state-default":"")});r.dataset.c=i.toString(),e&&$(r).data("column",o),o.footerCssClass?r.classList.add(o.footerCssClass):o.cssClass&&r.classList.add(o.cssClass),(s>0&&i>=s?this._footerRowColsR:this._footerRowColsL).appendChild(r),this.trigger(this.onFooterRowCellRendered,{node:r,column:o})}}formatGroupTotal(e,t){if(t.formatter!=null){var s=new W;s[t.field]=e;try{return t.formatter(-1,-1,e,t,s)}catch(i){}}return typeof e=="number"&&typeof Q!="undefined"&&Q.formatNumber?t.sourceItem&&t.sourceItem.displayFormat?Q.formatNumber(e,t.sourceItem.displayFormat):Q.formatNumber(e,"#,##0.##"):z(e==null?void 0:e.toString())}groupTotalText(e,t,s){var i=s.substring(0,1).toUpperCase()+s.substring(1),o=typeof Q!="undefined"&&Q.tryGetText&&Q.tryGetText(i)||i,r=e[s][t.field];return r=this.formatGroupTotal(r,t),"<span class='aggregate agg-"+s+"'  title='"+o+"'>"+r+"</span>"}groupTotalsFormatter(e,t){if(!e||!t)return"";var s=null,i=this;return["sum","avg","min","max","cnt"].forEach(function(o){if(s==null&&e[o]&&e[o][t.field]!=null)return s=i.groupTotalText(e,t,o),!1}),s||""}createColumnHeaders(){[this._headerColsL,this._headerColsR].forEach(u=>u.querySelectorAll(".slick-header-column").forEach(h=>{var m=this.getColumnFromNode(h);m&&this.trigger(this.onBeforeHeaderCellDestroy,{node:h,column:m})}));let e=typeof $!="undefined";e?($(this._headerColsL).empty(),$(this._headerColsR).empty()):(this._headerColsL.innerHTML="",this._headerColsR.innerHTML=""),this.calcHeaderWidths(),this._headerColsL.style.width=this._headersWidthL+"px",this._headerColsR.style.width=this._headersWidthR+"px";for(var t=this._cols,s=this._frozenCols,i=0;i<t.length;i++){var o=t[i],r=s>0&&i>=s?this._headerColsR:this._headerColsL,l=document.createElement("span");l.className="slick-column-name",o.nameIsHtml?l.innerHTML=o.name:l.innerText=o.name;var n=v("div",{class:"slick-header-column"+(this._options.useLegacyUI?" ui-state-default ":""),id:""+this._uid+o.id,title:o.toolTip||"",style:"width: "+(o.width-this._headerColumnWidthDiff)+"px"},l);if(n.dataset.c=i.toString(),e&&$(n).data("column",o),o.headerCssClass&&n.classList.add(o.headerCssClass),i<s&&n.classList.add("frozen"),r.appendChild(n),(this._options.enableColumnReorder||o.sortable)&&this._options.useLegacyUI&&(n.addEventListener("mouseenter",U),n.addEventListener("mouseleave",j)),o.sortable&&(n.classList.add("slick-header-sortable"),n.appendChild(v("span",{class:"slick-sort-indicator"}))),this.trigger(this.onHeaderCellRendered,{node:n,column:o}),this._options.showHeaderRow){var a=s>0&&i>=s?this._headerRowColsR:this._headerRowColsL,d=v("div",{class:"slick-headerrow-column l"+i+" r"+i+(this._options.useLegacyUI?" ui-state-default":"")});d.dataset.c=i.toString(),e&&$(d).data("column",o),a.appendChild(d),this.trigger(this.onHeaderRowCellRendered,{node:d,column:o})}}this.setSortColumns(this._sortColumns),this.setupColumnResize(),this._options.enableColumnReorder&&this.setupColumnReorder()}setupColumnSort(){[this._headerColsL,this._headerColsR].forEach(e=>e.addEventListener("click",t=>{var s=t.target;if(!s.classList.contains("slick-resizable-handle")){var i=s.closest(".slick-header-column");if(!!i){var o=this.getColumnFromNode(i);if(o.sortable){if(!this.getEditorLock().commitCurrentEdit())return;for(var r=null,l=0;l<this._sortColumns.length;l++)if(this._sortColumns[l].columnId==o.id){r=this._sortColumns[l],r.sortAsc=!r.sortAsc;break}if(t.metaKey&&this._options.multiColumnSort?r&&this._sortColumns.splice(l,1):((!t.shiftKey&&!t.metaKey||!this._options.multiColumnSort)&&(this._sortColumns=[]),r?this._sortColumns.length==0&&this._sortColumns.push(r):(r={columnId:o.id,sortAsc:o.defaultSortAsc},this._sortColumns.push(r))),this.setSortColumns(this._sortColumns),!this._options.multiColumnSort)this.trigger(this.onSort,{multiColumnSort:!1,sortCol:o,sortAsc:r.sortAsc},t);else{var n=this._initCols;this.trigger(this.onSort,{multiColumnSort:!0,sortCols:this._sortColumns.map(a=>({sortCol:n[this.getInitialColumnIndex(a.columnId)],sortAsc:a.sortAsc}))},t)}}}}}))}setupColumnReorder(){$([this._headerColsL,this._headerColsR]).filter(":ui-sortable").sortable("destroy");var e=null,t=()=>{this._scrollContainerX.scrollLeft=this._scrollContainerX.scrollLeft+10},s=()=>{this._scrollContainerX.scrollLeft=this._scrollContainerX.scrollLeft-10},i,o=this._options.groupingPanel;$([this._headerColsL,this._headerColsR]).sortable({containment:o?void 0:"parent",distance:3,axis:o?void 0:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder"+(this._options.useLegacyUI?" ui-state-default":"")+" slick-header-column",forcePlaceholderSize:o?!0:void 0,appendTo:o?"body":void 0,start:(r,l)=>{l.placeholder.width(l.helper.outerWidth()-this._headerColumnWidthDiff),i=!this.hasFrozenColumns()||l.placeholder.offset()[this._rtlS]+Math.round(l.placeholder.width())>$(this._scrollContainerX).offset()[this._rtlS],$(l.helper).addClass("slick-header-column-active")},beforeStop:(r,l)=>{if($(l.helper).removeClass("slick-header-column-active"),o){var n=$(this.getGroupingPanel()),a=n.find(".slick-dropped-grouping").length;a>0&&(n.find(".slick-dropped-placeholder").hide(),n.find(".slick-dropped-grouping").show())}},sort:r=>{i&&r.originalEvent.pageX>this._container.clientWidth?e||(e=setInterval(t,100)):i&&r.originalEvent.pageX<$(this._scrollContainerX).offset().left?e||(e=setInterval(s,100)):(clearInterval(e),e=null)},stop:r=>{var l=!1;if(clearInterval(e),e=null,l||!this.getEditorLock().commitCurrentEdit()){$(r.target).sortable("cancel");return}var n=I(this._initCols,this._headerColsL.sortable("toArray").map(a=>a.substring(this._uid.length)));n=I(n,this._headerColsR.sortable("toArray").map(a=>a.substring(this._uid.length))),this.setColumns(n),this.trigger(this.onColumnsReordered,{}),r.stopPropagation(),this.setupColumnResize()}})}setupColumnResize(){if(!(typeof $=="undefined"||!$.fn||!$.fn.drag)){var e,t,s,i,o,r,l,n,a,d,u=this._cols;r=$([this._headerColsL,this._headerColsR]).children(),r.find(".slick-resizable-handle").remove(),r.each(h=>{u[h].resizable&&(a===void 0&&(a=h),d=h)}),a!==void 0&&r.each((h,m)=>{h<a||this._options.forceFitColumns&&h>=d||(e=$(m),$("<div class='slick-resizable-handle' />").appendTo(m).on("dragstart",(C,R)=>{if(!this.getEditorLock().commitCurrentEdit())return!1;o=C.pageX,$(C.target).parent().addClass("slick-header-column-active");var _=null,g=null;if(r.each((b,y)=>{u[b].previousWidth=$(y).outerWidth()}),this._options.forceFitColumns)for(_=0,g=0,t=h+1;t<r.length;t++)i=u[t],i.resizable&&(g!=null&&(i.maxWidth?g+=i.maxWidth-i.previousWidth:g=null),_+=i.previousWidth-Math.max(i.minWidth||0,this._absoluteColMinWidth));var c=0,w=0;for(t=0;t<=h;t++)i=u[t],i.resizable&&(w!=null&&(i.maxWidth?w+=i.maxWidth-i.previousWidth:w=null),c+=i.previousWidth-Math.max(i.minWidth||0,this._absoluteColMinWidth));_===null&&(_=1e5),c===null&&(c=1e5),g===null&&(g=1e5),w===null&&(w=1e5),n=o+Math.min(_,w),l=o-Math.min(c,g)}).on("drag",(C,R)=>{var _,g=Math.min(n,Math.max(l,C.pageX))-o,c;if(g<0){c=g;var w=0,b=0;for(t=h;t>=0;t--)i=u[t],i.resizable&&(_=Math.max(i.minWidth||0,this._absoluteColMinWidth),c&&i.previousWidth+c<_?(c+=i.previousWidth-_,i.width=_):(i.width=i.previousWidth+c,c=0));var y=this._frozenCols;for(s=0;s<=h;s++)i=u[s],y>0&&s>=y?b+=i.width:w+=i.width;if(this._options.forceFitColumns)for(c=-g,t=h+1;t<r.length;t++)i=u[t],i.resizable&&(c&&i.maxWidth&&i.maxWidth-i.previousWidth<c?(c-=i.maxWidth-i.previousWidth,i.width=i.maxWidth):(i.width=i.previousWidth+c,c=0),y>0&&t>=y?b+=i.width:w+=i.width);else for(t=h+1;t<r.length;t++)i=u[t],y>=0&&t>=y?b+=i.width:w+=i.width}else{c=g;var w=0,b=0;for(t=h;t>=0;t--)i=u[t],i.resizable&&(c&&i.maxWidth&&i.maxWidth-i.previousWidth<c?(c-=i.maxWidth-i.previousWidth,i.width=i.maxWidth):(i.width=i.previousWidth+c,c=0));for(s=0;s<=h;s++)i=u[s],y>0&&s>=y?b+=i.width:w+=i.width;if(this._options.forceFitColumns)for(c=-g,t=h+1;t<r.length;t++)i=u[t],i.resizable&&(_=Math.max(i.minWidth||0,this._absoluteColMinWidth),c&&i.previousWidth+c<_?(c+=i.previousWidth-_,i.width=_):(i.width=i.previousWidth+c,c=0),y&&t>=y?b+=i.width:w+=i.width);else for(t=h+1;t<r.length;t++)i=u[t],y>0&&t>=y?b+=i.width:w+=i.width}this.hasFrozenColumns()&&w!=this._canvasWidthL&&(this._headerColsL.style.width=w+1e3+"px",this._paneHeaderR.style[this._rtlS]=w+"px"),this.applyColumnHeaderWidths(),this._options.syncColumnCellResize&&this.applyColumnWidths()}).on("dragend",C=>{var R;for($(C.target).parent().removeClass("slick-header-column-active"),t=0;t<r.length;t++)i=u[t],R=$(r[t]).outerWidth(),i.previousWidth!==R&&i.rerenderOnResize&&this.invalidateAllRows();this.updateCanvasWidth(!0),this.render(),this.trigger(this.onColumnsResized)}))})}}getVBoxDelta(e){var t=getComputedStyle(e);if(e.style.boxSizing=="border-box")return 0;var s=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],i=0;return s.forEach(o=>i+=parseFloat(t.getPropertyValue(o))||0),i}adjustFrozenRowOption(){if(this._options.frozenRow=this._options.frozenRow>=0&&this._options.frozenRow<this._numVisibleRows?this._options.frozenRow:-1,this._options.frozenRow>-1){this._hasFrozenRows=!0,this._frozenRowsHeight=this._options.frozenRow*this._options.rowHeight;var e=this.getDataLength()||this._data.length;this._actualFrozenRow=this._options.frozenBottom?e-this._options.frozenRow:this._options.frozenRow}else this._hasFrozenRows=!1}setPaneVisibility(){this._paneHeaderR.style.display=this._paneTopR.style.display=this._hasFrozenRows?"":"none",this._paneBottomL.style.display=this._hasFrozenRows?"":"none",this._paneBottomR.style.display=this._hasFrozenRows&&this.hasFrozenColumns()?"":"none"}setOverflow(){var e=this._hasFrozenRows,t=this.hasFrozenColumns(),s=this._options.alwaysAllowHorizontalScroll,i=this._options.alwaysShowVerticalScroll;this._viewportTopL.style.overflowX=this._viewportTopR.style.overflowX=e&&!s?"hidden":t?"scroll":"auto",this._viewportTopL.style.overflowY=this._viewportBottomL.style.overflowY=!t&&i?"scroll":t?"hidden":e?"scroll":"auto",this._viewportTopR.style.overflowY=i||e?"scroll":"auto",this._viewportBottomL.style.overflowX=this._viewportBottomR.style.overflowX=t&&!s?"scroll":"auto",this._viewportBottomR.style.overflowY=i?"scroll":"auto",this._options.viewportClass&&this.getViewports().forEach(o=>o.classList.add(this._options.viewportClass))}setScroller(){this.hasFrozenColumns()?this._hasFrozenRows?this._options.frozenBottom?(this._scrollContainerX=this._viewportBottomR,this._scrollContainerY=this._viewportTopR):this._scrollContainerX=this._scrollContainerY=this._viewportBottomR:this._scrollContainerX=this._scrollContainerY=this._viewportTopR:this._hasFrozenRows?this._options.frozenBottom?(this._scrollContainerX=this._viewportBottomL,this._scrollContainerY=this._viewportTopL):this._scrollContainerX=this._scrollContainerY=this._viewportBottomL:this._scrollContainerX=this._scrollContainerY=this._viewportTopL}measureCellPaddingAndBorder(){let e=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],t=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];var s=this._headerColsL.appendChild(v("div",{class:"slick-header-column"+(this._options.useLegacyUI?" ui-state-default":""),style:"visibility:hidden"}));this._headerColumnWidthDiff=0;var i=getComputedStyle(s);i.boxSizing!="border-box"&&e.forEach(r=>this._headerColumnWidthDiff+=parseFloat(i.getPropertyValue(r))||0),s.remove();var o=this._canvasTopL.appendChild(v("div",{class:"slick-row"},s=v("div",{class:"slick-cell",id:"",style:"visibility: hidden"})));s.innerHTML="-",this._cellWidthDiff=this._cellHeightDiff=0,i=getComputedStyle(s),i.boxSizing!="border-box"&&(e.forEach(r=>this._cellWidthDiff+=parseFloat(i.getPropertyValue(r))||0),t.forEach(r=>this._cellHeightDiff+=parseFloat(i.getPropertyValue(r))||0)),o.remove(),this._absoluteColMinWidth=Math.max(this._headerColumnWidthDiff,this._cellWidthDiff)}createCssRules(){var e=this._styleNode=document.createElement("style");e.dataset.uid=this._uid;for(var t=this._options.rowHeight-this._cellHeightDiff,s=["."+this._uid+" .slick-group-header-column { "+this._rtlS+": 1000px; }","."+this._uid+" .slick-header-column { "+this._rtlS+": 1000px; }","."+this._uid+" .slick-top-panel { height:"+this._options.topPanelHeight+"px; }","."+this._uid+" .slick-grouping-panel { height:"+this._options.groupingPanelHeight+"px; }","."+this._uid+" .slick-headerrow-columns { height:"+this._options.headerRowHeight+"px; }","."+this._uid+" .slick-cell { height:"+t+"px; }","."+this._uid+" .slick-row { height:"+this._options.rowHeight+"px; }","."+this._uid+" .slick-footerrow-columns { height:"+this._options.footerRowHeight+"px; }"],i=this._cols,o=0;o<i.length;o++)s.push("."+this._uid+" .l"+o+" { }"),s.push("."+this._uid+" .r"+o+" { }");e.appendChild(document.createTextNode(s.join(" "))),document.head.appendChild(e)}getColumnCssRules(e){if(!this._stylesheet){var t=document.querySelector("style[data-uid='"+this._uid+"']");if(t&&t.sheet)this._stylesheet=t.sheet;else for(var s=document.styleSheets,i=0;i<s.length;i++)if((s[i].ownerNode||s[i].owningElement)==this._styleNode){this._stylesheet=s[i];break}if(!this._stylesheet)throw new Error("Cannot find stylesheet.");this._columnCssRulesL=[],this._columnCssRulesR=[];for(var o=this._stylesheet.cssRules||this._stylesheet.rules,r,l,i=0;i<o.length;i++){var n=o[i].selectorText;(r=/\.l\d+/.exec(n))?(l=parseInt(r[0].substring(2,r[0].length),10),this._columnCssRulesL[l]=o[i]):(r=/\.r\d+/.exec(n))&&(l=parseInt(r[0].substring(2,r[0].length),10),this._columnCssRulesR[l]=o[i])}}return this._rtl?{right:this._columnCssRulesL[e],left:this._columnCssRulesR[e]}:{left:this._columnCssRulesL[e],right:this._columnCssRulesR[e]}}removeCssRules(){this._styleNode.remove(),this._stylesheet=null}destroy(){this.getEditorLock().cancelCurrentEdit(),this.trigger(this.onBeforeDestroy);for(var e=this._plugins.length;e--;)this.unregisterPlugin(this._plugins[e]);this._options.enableColumnReorder&&$([this._headerColsL,this._headerColsR]).filter(":ui-sortable").sortable("destroy"),this.unbindAncestorScrollEvents(),$(this._container).off(".slickgrid"),this.removeCssRules(),this.getCanvases().off("draginit dragstart dragend drag"),$(this._container).empty().removeClass(this._uid);for(var t in this)if(!!Object.prototype.hasOwnProperty.call(this,t)){if(t.startsWith("on")){var s=this[t];(s==null?void 0:s.clear)&&(s==null?void 0:s.subscribe)&&(s==null||s.clear())}delete this[t]}}trigger(e,t,s){return s=s||new k,t=t||{},t.grid=this,e.notify(t,s,this)}getEditorLock(){return this._options.editorLock}getEditController(){return this._editController}getColumnIndex(e){return this._colById[e]}getInitialColumnIndex(e){return this._initColById[e]}autosizeColumns(){var e,t,s=[],i=0,o=0,r,l=this._viewportHasVScroll?this._viewportW-this._scrollDims.width:this._viewportW,n=this._cols;for(e=0;e<n.length;e++)t=n[e],s.push(t.width),o+=t.width,t.resizable&&(i+=t.width-Math.max(t.minWidth,this._absoluteColMinWidth));for(r=o;o>l&&i;){var a=(o-l)/i;for(e=0;e<n.length&&o>l;e++){t=n[e];var d=s[e];if(!(!t.resizable||d<=t.minWidth||d<=this._absoluteColMinWidth)){var u=Math.max(t.minWidth,this._absoluteColMinWidth),h=Math.floor(a*(d-u))||1;h=Math.min(h,d-u),o-=h,i-=h,s[e]-=h}}if(r<=o)break;r=o}for(r=o;o<l;){var m=l/o;for(e=0;e<n.length&&o<l;e++){t=n[e];var C=s[e],R;!t.resizable||t.maxWidth<=C?R=0:R=Math.min(Math.floor(m*C)-C,t.maxWidth-C||1e6)||1,o+=R,s[e]+=o<=l?R:0}if(r>=o)break;r=o}var _=!1;for(e=0;e<n.length;e++)n[e].rerenderOnResize&&n[e].width!=s[e]&&(_=!0),n[e].width=s[e];this.applyColumnHeaderWidths(),this.updateCanvasWidth(!0),_&&(this.invalidateAllRows(),this.render())}applyColumnHeaderWidths(){if(!!this._initialized){for(var e,t=this._cols,s=t.length,i=this._frozenCols,o=this._headerColsL.children,r=this._headerColsR.children,l=0,n=o.length+r.length;l<n&&l<s;l++)e=(i&&l>=i?r:o).item(l),e.style.width=t[l].width+"px";this.updateViewColLeftRight()}}applyColumnWidths(){for(var e=0,t,s,i=this._cols,o=this._frozenCols,r=0;r<i.length;r++)o==r&&(e=0),t=i[r].width,s=this.getColumnCssRules(r),s[this._rtlS].style[this._rtlS]=e+"px",s[this._rtlE].style[this._rtlE]=(o>0&&r>=o?this._canvasWidthR:this._canvasWidthL)-e-t+"px",e+=t}setSortColumn(e,t){this.setSortColumns([{columnId:e,sortAsc:t}])}setSortColumns(e){this._sortColumns=e||[];var t=Array.from(this._headerColsL.children).concat(Array.from(this._headerColsR.children));t.forEach(s=>{s.classList.remove("slick-header-column-sorted");var i=s.querySelector(".slick-sort-indicator");i&&i.classList.remove("slick-sort-indicator-asc","slick-sort-indicator-desc")}),this._sortColumns.forEach(s=>{s.sortAsc==null&&(s.sortAsc=!0);var i=this.getColumnIndex(s.columnId);if(i!=null){var o=t[i];if(o){o.classList.add("slick-header-column-sorted");var r=o.querySelector(".slick-sort-indicator");r&&r.classList.add(s.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")}}})}getSortColumns(){return this._sortColumns}getColumns(){return this._cols}getInitialColumns(){return this._initCols}updateViewColLeftRight(){this._colLeft=[],this._colRight=[];for(var e=0,t,s=this._cols,i,o=s.length,r=this._frozenCols,i=0;i<o;i++)r===i&&(e=0),t=e+s[i].width,this._colLeft[i]=e,this._colRight[i]=t,e=t}setInitialCols(e){var t=this._colDefaults,s={},i=[],o=[],r={},l,n,a;for(l=0;l<e.length;l++){n=e[l];for(a in t)n[a]===void 0&&(n[a]=this._colDefaults[a]);n.minWidth&&n.width<n.minWidth&&(n.width=n.minWidth),n.maxWidth&&n.width>n.maxWidth&&(n.width=n.maxWidth),s[n.id]=l,n.visible!==!1&&(n.frozen?i:o).push(n)}for(this._frozenCols=i.length,i.length>0&&(o=i.concat(o)),l=0;l<o.length;l++)n=o[l],r[n.id]=l;this._initCols=e,this._initColById=s,this._cols=o,this._colById=r}setColumns(e){var t;this.setInitialCols(e),this.updateViewColLeftRight(),this._initialized&&(this.setPaneVisibility(),this.setOverflow(),this.invalidateAllRows(),this.createColumnHeaders(),this.createColumnFooters(),this.updateFooterTotals(),this.removeCssRules(),this.createCssRules(),this.resizeCanvas(),this.updateCanvasWidth(),this.applyColumnWidths(),this.handleScroll(),(t=this.getSelectionModel())==null||t.refreshSelections())}getOptions(){return this._options}setOptions(e,t,s,i){var o;!this.getEditorLock().commitCurrentEdit()||(this.makeActiveCellNormal(),e.showColumnHeader!==void 0&&this.setColumnHeaderVisibility(e.showColumnHeader),this._options.enableAddRow!==e.enableAddRow&&this.invalidateRow(this.getDataLength()),this._options=$.extend(this._options,e),this.validateAndEnforceOptions(),this.adjustFrozenRowOption(),this.getViewports().forEach(r=>r.style.overflowY=this._options.autoHeight?"hidden":"auto"),i||this.setOverflow(),e.columns&&!s?(T(e.columns,this._options),this.setColumns((o=e.columns)!=null?o:this._initCols)):e.frozenColumn!=null&&(T(this._initCols,this._options),this.setColumns(this._initCols)),this.setScroller(),t||this.render())}validateAndEnforceOptions(){this._options.autoHeight&&(this._options.leaveSpaceForNewRows=!1)}bindToData(){this._data&&(this._data.onRowCountChanged&&this._data.onRowCountChanged.subscribe(this.viewOnRowCountChanged),this._data.onRowsChanged&&this._data.onRowsChanged.subscribe(this.viewOnRowsChanged),this._data.onDataChanged&&this._data.onDataChanged.subscribe(this.viewOnDataChanged))}unbindFromData(){this._data&&(this._data.onRowCountChanged&&this._data.onRowCountChanged.unsubscribe(this.viewOnRowCountChanged),this._data.onRowsChanged&&this._data.onRowsChanged.unsubscribe(this.viewOnRowsChanged),this._data.onDataChanged&&this._data.onDataChanged.unsubscribe(this.viewOnDataChanged))}setData(e,t){this.unbindFromData(),this._data=e,this.bindToData(),this.invalidateAllRows(),this.updateRowCount(),t&&this.scrollTo(0)}getData(){return this._data}getDataLength(){return this._data.getLength?this._data.getLength():this._data.length}getDataLengthIncludingAddNew(){return this.getDataLength()+(this._options.enableAddRow&&(!this._pagingActive||this._pagingIsLastPage)?1:0)}getDataItem(e){return this._data.getItem?this._data.getItem(e):this._data[e]}getTopPanel(){return this._topPanelL}setTopPanelVisibility(e){this._options.showTopPanel!=e&&(this._options.showTopPanel=!!e,$([this._topPanelL.parentElement,this._topPanelR.parentElement])[e?"slideDown":"slideUp"]("fast",this.resizeCanvas))}setColumnHeaderVisibility(e,t){if(this._options.showColumnHeader!=e){this._options.showColumnHeader=e;var s=$([this._headerColsL.parentElement,this._headerColsR.parentElement]);e?t?s.slideDown("fast",this.resizeCanvas):(s.show(),this.resizeCanvas()):t?s.slideUp("fast",this.resizeCanvas):(s.hide(),this.resizeCanvas())}}setFooterRowVisibility(e){this._options.showFooterRow!=e&&(this._options.showFooterRow=!!e,$([this._footerRowColsL.parentElement,this._footerRowColsR.parentElement])[e?"slideDown":"slideUp"]("fast",this.resizeCanvas))}setGroupingPanelVisibility(e){if(this._options.showGroupingPanel!=e){if(this._options.showGroupingPanel=e,!this._options.groupingPanel)return;e?$(this._groupingPanel).slideDown("fast",this.resizeCanvas):$(this._groupingPanel).slideUp("fast",this.resizeCanvas)}}setHeaderRowVisibility(e){this._options.showHeaderRow!=e&&(this._options.showHeaderRow=e,$([this._headerRowColsL.parentElement,this._headerRowColsR.parentElement])[e?"slideDown":"slideUp"]("fast",this.resizeCanvas))}getContainerNode(){return this._container}getUID(){return this._uid}getRowTop(e){return this._options.rowHeight*e-this._pageOffset}getRowFromPosition(e){return Math.floor((e+this._pageOffset)/this._options.rowHeight)}scrollTo(e){e=Math.max(e,0),e=Math.min(e,this._virtualHeight-Math.round($(this._scrollContainerY).height())+(this._viewportHasHScroll||this.hasFrozenColumns()?this._scrollDims.height:0));var t=this._pageOffset;this._page=Math.min(this._numberOfPages-1,Math.floor(e/this._pageHeight)),this._pageOffset=Math.round(this._page*this._jumpinessCoefficient);var s=e-this._pageOffset;if(this._pageOffset!=t){var i=this.getVisibleRange(s);this.cleanupRows(i),this.updateRowPositions()}this._scrollTopPrev!=s&&(this._vScrollDir=this._scrollTopPrev+t<s+this._pageOffset?1:-1,this._scrollTopRendered=this._scrollTop=this._scrollTopPrev=s,this.hasFrozenColumns()&&(this._viewportTopL.scrollTop=s),this._hasFrozenRows&&(this._viewportBottomL.scrollTop=this._viewportBottomR.scrollTop=s),this._scrollContainerY.scrollTop=s,this.trigger(this.onViewportChanged))}getFormatter(e,t){var s=this._data,i=s.getItemMetadata&&s.getItemMetadata(e),o=i&&i.columns,r=o&&(o[t.id]||o[this.getInitialColumnIndex(t.id)]);return r&&r.formatter||i&&i.formatter||t.formatter||this._options.formatterFactory&&this._options.formatterFactory.getFormatter(t)||this._options.defaultFormatter}getEditor(e,t){var s=this._cols[t],i=this._data.getItemMetadata&&this._data.getItemMetadata(e),o=i&&i.columns;return o&&o[s.id]&&o[s.id].editor!==void 0?o[s.id].editor:o&&o[t]&&o[t].editor!==void 0?o[t].editor:s.editor||this._options.editorFactory&&this._options.editorFactory.getEditor(s)}getDataItemValueForColumn(e,t){return this._options.dataItemColumnValueExtractor?this._options.dataItemColumnValueExtractor(e,t):e[t.field]}appendRowHtml(e,t,s,i,o){var r=this.getDataItem(s),l=s<o&&!r,n="slick-row"+(this._hasFrozenRows&&s<=this._options.frozenRow?" frozen":"")+(l?" loading":"")+(s===this._activeRow?" active":"")+(s%2==1?" odd":" even");r||(n+=" "+this._options.addNewRowCssClass);var a=this._data.getItemMetadata&&this._data.getItemMetadata(s);a&&a.cssClasses&&(n+=" "+a.cssClasses);var d=this.getFrozenRowOffset(s),u="<div class='"+(this._options.useLegacyUI?"ui-widget-content ":"")+n+"' style='top:"+(this.getRowTop(s)-d)+"px'>";e.push(u),this.hasFrozenColumns()&&t.push(u);for(var h,m,C=this._cols,R=this._frozenCols,_=0,g=C.length;_<g;_++){var c=null;if(m=C[_],h=1,a&&a.columns&&(c=a.columns[m.id]||a.columns[_],h=c&&c.colspan||1,h==="*"&&(h=g-_)),this._colRight[Math.min(g-1,_+h-1)]>i.leftPx){if(this._colLeft[_]>i.rightPx)break;this.appendCellHtml(R>0&&_>=R?t:e,s,_,h,r,c)}h>1&&(_+=h-1)}e.push("</div>"),this.hasFrozenColumns()&&t.push("</div>")}appendCellHtml(e,t,s,i,o,r){var c,w,b;var l=this._cols,n=this._frozenCols,a=l[s],d="slick-cell l"+s+" r"+Math.min(l.length-1,s+i-1)+(a.cssClass?" "+a.cssClass:"");s<n&&(d+=" frozen"),t===this._activeRow&&s===this._activeCell&&(d+=" active"),r&&r.cssClasses&&(d+=" "+r.cssClasses);for(var u in this._cellCssClasses)this._cellCssClasses[u][t]&&this._cellCssClasses[u][t][a.id]&&(d+=" "+this._cellCssClasses[u][t][a.id]);var h;if(o){var m=this.getDataItemValueForColumn(o,a);h=this.getFormatter(t,a)(t,s,m,a,o,this)}if(h==null)e.push('<div class="'+E(d)+'"></div>');else if(typeof h=="string")e.push('<div class="'+E(d)+'">'+h+"</div>");else{(c=h.addClass)!=null&&c.length&&(d+=" "+h.addClass),e.push('<div class="'+E(d)+'"'),(w=h.addClass)!=null&&w.length&&e.push(' data-fmtcls="'+E(h.addClass)+'"');var C=h.addAttrs;if(C!=null){var R=[];for(var _ in C)e.push(_+'="'+E(C[_])+'"'),R.push(_);e.push(' data-fmtatt="'+E(R.join(","))+'"')}var g=h.toolTip;g!=null&&g.length&&e.push('tooltip="'+E(g)+'"'),(b=h.text)!=null&&b.length?e.push(">"+h.text+"</div>"):e.push("></div>")}this._rowsCache[t].cellRenderQueue.push(s),this._rowsCache[t].cellColSpans[s]=i}cleanupRows(e){var t;for(var s in this._rowsCache){var i=!0;t=parseInt(s,10),this._hasFrozenRows&&(this._options.frozenBottom&&t>=this._actualFrozenRow||!this._options.frozenBottom&&t<=this._actualFrozenRow)&&(i=!1),t!==this._activeRow&&(t<e.top||t>e.bottom)&&i&&this.removeRowFromCache(t)}this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup()}invalidate(){this.updateRowCount(),this.invalidateAllRows(),this.render(),this.updateFooterTotals()}invalidateAllRows(){this._currentEditor&&this.makeActiveCellNormal();for(var e in this._rowsCache)this.removeRowFromCache(parseInt(e,10));this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup()}queuePostProcessedRowForCleanup(e,t,s){var r,l;this._postProcessGroupId++;for(var i in t)if(t.hasOwnProperty(i)){var o=parseInt(i,10);this._postProcessCleanupQueue.push({groupId:this._postProcessGroupId,cellNode:e.cellNodesByColumnIdx[o|0],columnIdx:o|0,rowIdx:s})}this._postProcessCleanupQueue.push({groupId:this._postProcessGroupId,rowNodeL:e.rowNodeL,rowNodeR:e.rowNodeR}),(r=e.rowNodeL)==null||r.remove(),(l=e.rowNodeR)==null||l.remove()}queuePostProcessedCellForCleanup(e,t,s){this._postProcessCleanupQueue.push({groupId:this._postProcessGroupId,cellNode:e,columnIdx:t,rowIdx:s}),$(e).detach()}removeRowFromCache(e){var s,i,o,r;var t=this._rowsCache[e];!t||(this._options.enableAsyncPostRenderCleanup&&this._postProcessedRows[e]?this.queuePostProcessedRowForCleanup(t,this._postProcessedRows[e],e):((i=(s=t.rowNodeL)==null?void 0:s.parentElement)==null||i.removeChild(t.rowNodeL),(r=(o=t.rowNodeR)==null?void 0:o.parentElement)==null||r.removeChild(t.rowNodeR)),delete this._rowsCache[e],delete this._postProcessedRows[e])}invalidateRows(e){var t,s;if(!(!e||!e.length)){for(this._vScrollDir=0,t=0,s=e.length;t<s;t++)this._currentEditor&&this._activeRow===e[t]&&this.makeActiveCellNormal(),this._rowsCache[e[t]]&&this.removeRowFromCache(e[t]);this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup()}}invalidateRow(e){this.invalidateRows([e])}applyFormatResultToCellNode(e,t){var l,n,a,d;var s=(l=t.dataset)==null?void 0:l.fmtcls;s!=null&&s.length>0&&(t.classList.remove(...s.split(" ")),delete t.dataset.fmtcls);var i=(n=t.dataset)==null?void 0:n.fmtatt;if(i!=null&&i.length>0){for(var o of i.split(","))t.removeAttribute(o);delete t.dataset.fmtatt}if(t.removeAttribute("tooltip"),e==null){t.innerHTML="";return}if(typeof e=="string"){t.innerHTML=e;return}if(t.innerHTML=e.text,(a=e.addClass)!=null&&a.length&&(t.classList.add(...e.addClass.split(" ")),t.dataset.fmtcls=e.addClass),e.addAttrs!=null){var r=Object.keys(e.addAttrs);if(r.length){for(var o of r)t.setAttribute(o,e.addAttrs[o]);t.dataset.fmtatt=r.join(",")}}(d=e.toolTip)!=null&&d.length&&t.setAttribute("tooltip",e.toolTip)}updateCell(e,t){var s=this.getCellNode(e,t);if(!!s){var i=this._cols[t],o=this.getDataItem(e);if(this._currentEditor&&this._activeRow===e&&this._activeCell===t)this._currentEditor.loadValue(o);else{var r=o?this.getFormatter(e,i)(e,t,this.getDataItemValueForColumn(o,i),i,o):"";this.applyFormatResultToCellNode(r,s),this.invalidatePostProcessingResults(e)}}}updateRow(e){var t=this._rowsCache[e];if(!!t){this.ensureCellNodesInRowsCache(e);var s=this.getDataItem(e),i;for(var o in t.cellNodesByColumnIdx)if(!!t.cellNodesByColumnIdx.hasOwnProperty(o)){var r=parseInt(o,10),l=this._cols[r],n=t.cellNodesByColumnIdx[r];e===this._activeRow&&r===this._activeCell&&this._currentEditor?this._currentEditor.loadValue(s):(i=s?this.getFormatter(e,l)(e,r,this.getDataItemValueForColumn(s,l),l,s):"",this.applyFormatResultToCellNode(i,n))}this.invalidatePostProcessingResults(e)}}getViewportHeight(){if((!this._options.autoHeight||this.hasFrozenColumns())&&(this._topPanelH=this._options.showTopPanel?this._options.topPanelHeight+this.getVBoxDelta(this._topPanelL.parentElement):0,this._headerRowH=this._options.showHeaderRow?this._options.headerRowHeight+this.getVBoxDelta(this._headerRowColsL.parentElement):0,this._footerRowH=this._options.showFooterRow?this._options.footerRowHeight+this.getVBoxDelta(this._footerRowColsL.parentElement):0),this._options.autoHeight)this._viewportH=this._options.rowHeight*this.getDataLengthIncludingAddNew(),this.hasFrozenColumns()||(this._viewportH+=this._paneHeaderL.offsetHeight,this._viewportH+=this._options.showHeaderRow?this._options.headerRowHeight+this.getVBoxDelta(this._headerRowColsL.parentElement):0,this._viewportH+=this._options.showFooterRow?this._options.footerRowHeight+this.getVBoxDelta(this._footerRowColsL.parentElement):0,this._viewportH+=this.getCanvasWidth()>this._viewportW?this._scrollDims.height:0);else{var e=this._options.showColumnHeader?parseFloat(getComputedStyle(this._headerColsL.parentElement).height)+this.getVBoxDelta(this._headerColsL.parentElement):0;this._groupingPanelH=this._options.groupingPanel&&this._options.showGroupingPanel?this._options.groupingPanelHeight+this.getVBoxDelta(this._groupingPanel):0;var t=getComputedStyle(this._container);this._viewportH=parseFloat(t.height)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-e-this._topPanelH-this._headerRowH-this._footerRowH-this._groupingPanelH}return this._numVisibleRows=Math.ceil(this._viewportH/this._options.rowHeight),this._viewportH}getViewportWidth(){this._viewportW=parseFloat(getComputedStyle(this._container).width)}updatePagingStatusFromView(e){this._pagingActive=e.pageSize!==0,this._pagingIsLastPage=e.pageNum==e.totalPages-1}updateRowCount(){if(!!this._initialized){var e=this.getDataLengthIncludingAddNew(),t=0,s=this._hasFrozenRows&&!this._options.frozenBottom?Math.round(parseFloat(getComputedStyle(this._canvasBottomL).height)):Math.round(parseFloat(getComputedStyle(this._canvasTopL).height));if(this._hasFrozenRows)var t=this.getDataLength()-this._options.frozenRow;else var t=e+(this._options.leaveSpaceForNewRows?this._numVisibleRows-1:0);var i=Math.round(parseFloat(getComputedStyle(this._scrollContainerY).height)),o=this._viewportHasVScroll;this._viewportHasVScroll=!this._options.autoHeight&&t*this._options.rowHeight>i,this.makeActiveCellNormal();var r=e-1;for(var l in this._rowsCache){var n=parseInt(l,10);n>=r&&this.removeRowFromCache(n)}this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup(),this._virtualHeight=Math.max(this._options.rowHeight*t,i-this._scrollDims.height),this._activeCellNode&&this._activeRow>r&&this.resetActiveCell(),this._virtualHeight<F()?(this._realScrollHeight=this._pageHeight=this._virtualHeight,this._numberOfPages=1,this._jumpinessCoefficient=0):(this._realScrollHeight=F(),this._pageHeight=this._realScrollHeight/100,this._numberOfPages=Math.floor(this._virtualHeight/this._pageHeight),this._jumpinessCoefficient=(this._virtualHeight-this._realScrollHeight)/(this._numberOfPages-1)),this._realScrollHeight!==s&&(this._hasFrozenRows&&!this._options.frozenBottom?(this._canvasBottomL.style.height=this._realScrollHeight+"px",this.hasFrozenColumns()&&(this._canvasBottomR.style.height=this._realScrollHeight+"px")):(this._canvasTopL.style.height=this._realScrollHeight+"px",this._canvasTopR.style.height=this._realScrollHeight+"px"),this._scrollTop=this._scrollContainerY.scrollTop);var a=this._scrollTop+this._pageOffset<=this._virtualHeight-i;this._virtualHeight==0||this._scrollTop==0?this._page=this._pageOffset=0:a?this.scrollTo(this._scrollTop+this._pageOffset):this.scrollTo(this._virtualHeight-i),this._realScrollHeight!=s&&this._options.autoHeight&&this.resizeCanvas(),this._options.forceFitColumns&&o!=this._viewportHasVScroll&&this.autosizeColumns(),this.updateCanvasWidth(!1)}}getViewport(e,t){return this.getVisibleRange(e,t)}getVisibleRange(e,t){return e==null&&(e=this._scrollTop),t==null&&(t=this._scrollLeft),{top:this.getRowFromPosition(e),bottom:this.getRowFromPosition(e+this._viewportH)+1,leftPx:t,rightPx:t+this._viewportW}}getRenderedRange(e,t){var s=this.getVisibleRange(e,t),i=Math.round(this._viewportH/this._options.rowHeight),o=this._options.minBuffer||3;return this._vScrollDir==-1?(s.top-=i,s.bottom+=o):this._vScrollDir==1?(s.top-=o,s.bottom+=i):(s.top-=o,s.bottom+=o),s.top=Math.max(0,s.top),s.bottom=Math.min(this.getDataLengthIncludingAddNew()-1,s.bottom),this._options.renderAllCells?(s.leftPx=0,s.rightPx=this._canvasWidth):(s.leftPx-=this._viewportW,s.rightPx+=this._viewportW,s.leftPx=Math.max(0,s.leftPx),s.rightPx=Math.min(this._canvasWidth,s.rightPx)),s}ensureCellNodesInRowsCache(e){var o,r,l,n;var t=this._rowsCache[e];if(t&&t.cellRenderQueue.length)for(var s=(l=(o=t.rowNodeR)==null?void 0:o.lastElementChild)!=null?l:(r=t.rowNodeL)==null?void 0:r.lastElementChild;s&&t.cellRenderQueue.length;){var i=t.cellRenderQueue.pop();t.cellNodesByColumnIdx[i]=s,s=s.previousElementSibling,s==null&&(s=(n=t.rowNodeL)==null?void 0:n.lastElementChild)}}cleanUpCells(e,t){if(!(this._hasFrozenRows&&(this._options.frozenBottom&&t>this._actualFrozenRow||t<=this._actualFrozenRow))){var s=0,i=this._rowsCache[t],o=[],r=this._frozenCols;for(var l in i.cellNodesByColumnIdx)if(!!i.cellNodesByColumnIdx.hasOwnProperty(l)){var n=parseInt(l,10);if(!(n<r)){var a=i.cellColSpans[n],d=this._cols;(this._colLeft[n]>e.rightPx||this._colRight[Math.min(d.length-1,n+a-1)]<e.leftPx)&&(t==this._activeRow&&n===this._activeCell||o.push(n))}}var u,h;for(this._postProcessGroupId++;(u=o.pop())!=null;)h=i.cellNodesByColumnIdx[u],this._options.enableAsyncPostRenderCleanup&&this._postProcessedRows[t]&&this._postProcessedRows[t][u]?this.queuePostProcessedCellForCleanup(h,u,t):h.parentElement.removeChild(h),delete i.cellColSpans[u],delete i.cellNodesByColumnIdx[u],this._postProcessedRows[t]&&delete this._postProcessedRows[t][u],s++}}cleanUpAndRenderCells(e){for(var t,s=[],i=[],o,r=0,l,n=this._cols,a=e.top,d=e.bottom;a<=d;a++)if(t=this._rowsCache[a],!!t){this.ensureCellNodesInRowsCache(a),this.cleanUpCells(e,a),o=0;var u=this._data.getItemMetadata&&this._data.getItemMetadata(a);u=u&&u.columns;for(var h=this.getDataItem(a),m=0,C=n.length;m<C&&!(this._colLeft[m]>e.rightPx);m++){if((l=t.cellColSpans[m])!=null){m+=l>1?l-1:0;continue}var R=null;l=1,u&&(R=u[n[m].id]||u[m],l=R&&R.colspan||1,l==="*"&&(l=C-m)),this._colRight[Math.min(C-1,m+l-1)]>e.leftPx&&(this.appendCellHtml(s,a,m,l,h,R),o++),m+=l>1?l-1:0}o&&(r+=o,i.push(a))}if(!!s.length){var _=document.createElement("div");_.innerHTML=s.join("");for(var g,c,w=this._frozenCols;(g=i.pop())!=null;){t=this._rowsCache[g];for(var b;(b=t.cellRenderQueue.pop())!=null;)c=_.lastElementChild,w>0&&b>=w?t.rowNodeR.appendChild(c):t.rowNodeL.appendChild(c),t.cellNodesByColumnIdx[b]=c}}}renderRows(e){for(var t=[],s=[],i=[],o=!1,r=this.getDataLength(),l=e.top,n=e.bottom;l<=n;l++)this._rowsCache[l]||this._hasFrozenRows&&this._options.frozenBottom&&l==r||(i.push(l),this._rowsCache[l]={rowNodeL:null,rowNodeR:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},this.appendRowHtml(t,s,l,e,r),this._activeCellNode&&this._activeRow===l&&(o=!0));if(!!i.length){var a=document.createElement("div"),d=document.createElement("div");a.innerHTML=t.join(""),d.innerHTML=s.join("");for(var u=this._hasFrozenRows,h=this._actualFrozenRow,m=this._frozenCols>0,C=this._canvasTopL,R=this._canvasTopR,_=this._canvasBottomL,g=this._canvasBottomR,l=0,n=i.length;l<n;l++){var c=this._rowsCache[i[l]];c.rowNodeL=a.firstElementChild,c.rowNodeR=d.firstElementChild,u&&i[l]>=h?(c.rowNodeL&&_.appendChild(c.rowNodeL),m&&c.rowNodeR&&g.appendChild(c.rowNodeR)):(c.rowNodeL&&C.appendChild(c.rowNodeL),m&&c.rowNodeR&&R.appendChild(c.rowNodeR))}o&&(this._activeCellNode=this.getCellNode(this._activeRow,this._activeCell))}}startPostProcessing(){!this._options.enableAsyncPostRender||(clearTimeout(this._hPostRender),this._options.asyncPostRenderDelay<0?this.asyncPostProcessRows():this._hPostRender=setTimeout(this.asyncPostProcessRows.bind(this),this._options.asyncPostRenderDelay))}startPostProcessingCleanup(){!this._options.enableAsyncPostRenderCleanup||(clearTimeout(this._hPostRenderCleanup),this._options.asyncPostCleanupDelay<0?this.asyncPostProcessCleanupRows():this._hPostRenderCleanup=setTimeout(this.asyncPostProcessCleanupRows.bind(this),this._options.asyncPostCleanupDelay))}invalidatePostProcessingResults(e){if(this._options.enableAsyncPostRenderCleanup)for(var t in this._postProcessedRows[e])this._postProcessedRows[e].hasOwnProperty(t)&&(this._postProcessedRows[e][t]="C");else delete this._postProcessedRows[e];this._postProcessFromRow=Math.min(this._postProcessFromRow,e),this._postProcessToRow=Math.max(this._postProcessToRow,e),this.startPostProcessing()}updateRowPositions(){for(var e in this._rowsCache){var t=this._rowsCache[e],s=this.getRowTop(parseInt(e,10))+"px";t.rowNodeL&&(t.rowNodeL.style.top=s),t.rowNodeR&&(t.rowNodeR.style.top=s)}}updateFooterTotals(){if(!(!this._options.showFooterRow||!this._initialized)){var e=null;this._data.getGrandTotals&&(e=this._data.getGrandTotals());for(var t=this._cols,s=0;s<t.length;s++){var i=t[s],o;i.field&&e&&(o=i.groupTotalsFormatter&&i.groupTotalsFormatter(e,i,this)||this.groupTotalsFormatter&&this.groupTotalsFormatter(e,i)||""),this.getFooterRowColumn(i.id).innerHTML=o}}}render(){if(!!this._initialized){var e=this.getVisibleRange(),t=this.getRenderedRange();if(this.cleanupRows(t),this._scrolLLeftRendered!=this._scrollLeft){if(this._hasFrozenRows){var s=Object.assign({},t);this._options.frozenBottom?(s.top=this._actualFrozenRow,s.bottom=this.getDataLength()):(s.top=0,s.bottom=this._options.frozenRow),this.cleanUpAndRenderCells(s)}this.cleanUpAndRenderCells(t)}this.renderRows(t),this._hasFrozenRows&&(this._options.frozenBottom?this.renderRows({top:this._actualFrozenRow,bottom:this.getDataLength()-1,leftPx:t.leftPx,rightPx:t.rightPx}):this.renderRows({top:0,bottom:this._options.frozenRow-1,leftPx:t.leftPx,rightPx:t.rightPx})),this._postProcessFromRow=e.top,this._postProcessToRow=Math.min(this.getDataLengthIncludingAddNew()-1,e.bottom),this.startPostProcessing(),this._scrollTopRendered=this._scrollTop,this._scrolLLeftRendered=this._scrollLeft,this._hRender=null}}handleMouseWheel(e,t,s,i){s=(typeof s=="undefined"?e.originalEvent.deltaX:s)||0,i=(typeof i=="undefined"?e.originalEvent.deltaY:i)||0,this._scrollTop=Math.max(0,this._scrollContainerY.scrollTop-i*this._options.rowHeight),this._scrollLeft=this._scrollContainerX.scrollLeft+s*10;var o=this._handleScroll(!0);o&&e.preventDefault()}handleScroll(){return this._scrollTop=this._scrollContainerY.scrollTop,this._scrollLeft=this._scrollContainerX.scrollLeft,this._handleScroll(!1)}_handleScroll(e){var t=this._scrollContainerY.scrollHeight-this._scrollContainerY.clientHeight,s=this._scrollContainerY.scrollWidth-this._scrollContainerY.clientWidth;t=Math.max(0,t),s=Math.max(0,s),this._scrollTop>t&&(this._scrollTop=t),this._scrollLeft>s&&(this._scrollLeft=s);var i=Math.abs(this._scrollTop-this._scrollTopPrev),o=Math.abs(this._scrollLeft-this._scrollLeftPrev);if((o||i)&&(this._ignoreScrollUntil=new Date().getTime()+100),o&&(this._scrollLeftPrev=this._scrollLeft,this._scrollContainerX.scrollLeft=this._scrollLeft,this.hasFrozenColumns()?(this._headerColsR.parentElement.scrollLeft=this._scrollLeft,this._topPanelR.parentElement.scrollLeft=this._scrollLeft,this._headerRowColsR.parentElement.scrollLeft=this._scrollLeft,this._footerRowColsR.parentElement.scrollLeft=this._scrollLeft,this._hasFrozenRows&&(this._viewportTopR.scrollLeft=this._scrollLeft)):(this._headerColsL.parentElement.scrollLeft=this._scrollLeft,this._topPanelL.parentElement.scrollLeft=this._scrollLeft,this._headerRowColsL.parentElement.scrollLeft=this._scrollLeft,this._footerRowColsL.parentElement.scrollLeft=this._scrollLeft,this._hasFrozenRows&&(this._viewportTopL.scrollLeft=this._scrollLeft))),i)if(this._vScrollDir=this._scrollTopPrev<this._scrollTop?1:-1,this._scrollTopPrev=this._scrollTop,e&&(this._scrollContainerY.scrollTop=this._scrollTop),this.hasFrozenColumns()&&(this._hasFrozenRows&&!this._options.frozenBottom?this._viewportBottomL.scrollTop=this._scrollTop:this._viewportTopL.scrollTop=this._scrollTop),i<this._viewportH)this.scrollTo(this._scrollTop+this._pageOffset);else{var r=this._pageOffset;this._realScrollHeight==this._viewportH?this._page=0:this._page=Math.min(this._numberOfPages-1,Math.floor(this._scrollTop*((this._virtualHeight-this._viewportH)/(this._realScrollHeight-this._viewportH))*(1/this._pageHeight))),this._pageOffset=Math.round(this._page*this._jumpinessCoefficient),r!=this._pageOffset&&this.invalidateAllRows()}return(o||i)&&(this._hRender&&clearTimeout(this._hRender),(Math.abs(this._scrollTopRendered-this._scrollTop)>20||Math.abs(this._scrolLLeftRendered-this._scrollLeft)>20)&&(this._options.forceSyncScrolling||Math.abs(this._scrollTopRendered-this._scrollTop)<this._viewportH&&Math.abs(this._scrolLLeftRendered-this._scrollLeft)<this._viewportW?this.render():this._hRender=setTimeout(this.render.bind(this),50),this.trigger(this.onViewportChanged))),this.trigger(this.onScroll,{scrollLeft:this._scrollLeft,scrollTop:this._scrollTop}),!!(o||i)}asyncPostProcessRows(){for(var e=this.getDataLength(),t=this._cols;this._postProcessFromRow<=this._postProcessToRow;){var s=this._vScrollDir>=0?this._postProcessFromRow++:this._postProcessToRow--,i=this._rowsCache[s];if(!(!i||s>=e)){this._postProcessedRows[s]||(this._postProcessedRows[s]={}),this.ensureCellNodesInRowsCache(s);for(var o in i.cellNodesByColumnIdx)if(!!i.cellNodesByColumnIdx.hasOwnProperty(o)){var r=parseInt(o,10),l=t[r],n=this._postProcessedRows[s][r];if(n!=="R"){if(l.asyncPostRender||l.asyncPostRenderCleanup){var a=i.cellNodesByColumnIdx[r];a&&l.asyncPostRender&&l.asyncPostRender(a,s,this.getDataItem(s),l,n==="C")}this._postProcessedRows[s][r]="R"}}if(this._options.asyncPostRenderDelay>=0){this._hPostRender=setTimeout(this.asyncPostProcessRows.bind(this),this._options.asyncPostRenderDelay);return}}}}asyncPostProcessCleanupRows(){for(var e=this._cols;this._postProcessCleanupQueue.length>0;){for(var t=this._postProcessCleanupQueue[0].groupId;this._postProcessCleanupQueue.length>0&&this._postProcessCleanupQueue[0].groupId==t;){var s=this._postProcessCleanupQueue.shift();if(s.rowNodeL&&s.rowNodeL.remove(),s.rowNodeR&&s.rowNodeR.remove(),s.cellNode!=null){var i=e[s.columnIdx];i&&i.asyncPostRenderCleanup&&(i.asyncPostRenderCleanup(s.cellNode,s.rowIdx,i),s.cellNode.remove())}}if(this._options.asyncPostRenderDelay>=0){this._hPostRenderCleanup=setTimeout(this.asyncPostProcessCleanupRows.bind(this),this._options.asyncPostCleanupDelay);return}}}updateCellCssStylesOnRenderedRows(e,t){var s,i,o,r;for(var l in this._rowsCache){if(r=t&&t[l],o=e&&e[l],r)for(i in r)(!o||r[i]!=o[i])&&(s=this.getCellNode(parseInt(l,10),this.getColumnIndex(i)),s&&$(s).removeClass(r[i]));if(o)for(i in o)(!r||r[i]!=o[i])&&(s=this.getCellNode(parseInt(l,10),this.getColumnIndex(i)),s&&$(s).addClass(o[i]))}}addCellCssStyles(e,t){if(this._cellCssClasses[e])throw"addCellCssStyles: cell CSS hash with key '"+e+"' already exists.";this._cellCssClasses[e]=t,this.updateCellCssStylesOnRenderedRows(t,null),this.trigger(this.onCellCssStylesChanged,{key:e,hash:t})}removeCellCssStyles(e){!this._cellCssClasses[e]||(this.updateCellCssStylesOnRenderedRows(null,this._cellCssClasses[e]),delete this._cellCssClasses[e],this.trigger(this.onCellCssStylesChanged,{key:e,hash:null}))}setCellCssStyles(e,t){var s=this._cellCssClasses[e];this._cellCssClasses[e]=t,this.updateCellCssStylesOnRenderedRows(t,s),this.trigger(this.onCellCssStylesChanged,{key:e,hash:t})}getCellCssStyles(e){return this._cellCssClasses[e]}flashCell(e,t,s){if(s=s||100,this._rowsCache[e]){var i=$(this.getCellNode(e,t));r(4)}var o=this._options.cellFlashingCssClass;function r(l){!l||setTimeout(function(){i.queue(function(){i.toggleClass(o).dequeue(),r(l-1)})},s)}}handleDragInit(e,t){var s=this.getCellFromEvent(e);if(!s||!this.cellExists(s.row,s.cell))return!1;var i=this.trigger(this.onDragInit,t,e);return e.isImmediatePropagationStopped()?i:!1}handleDragStart(e,t){var s=this.getCellFromEvent(e);if(!s||!this.cellExists(s.row,s.cell))return!1;var i=this.trigger(this.onDragStart,t,e);return e.isImmediatePropagationStopped()?i:!1}handleDrag(e,t){return this.trigger(this.onDrag,t,e)}handleDragEnd(e,t){this.trigger(this.onDragEnd,t,e)}handleKeyDown(e){this.trigger(this.onKeyDown,{row:this._activeRow,cell:this._activeCell},e);var t=e.isImmediatePropagationStopped();if(!t&&!e.shiftKey&&!e.altKey){if(this._options.editable&&this._currentEditor&&this._currentEditor.keyCaptureList&&this._currentEditor.keyCaptureList.indexOf(e.which)>=0)return;e.which==L.HOME?e.ctrlKey?(this.navigateTop(),t=!0):t=this.navigateRowStart():e.which==L.END&&(e.ctrlKey?(this.navigateBottom(),t=!0):t=this.navigateRowEnd())}if(!t)if(!e.shiftKey&&!e.altKey&&!e.ctrlKey){if(this._options.editable&&this._currentEditor&&this._currentEditor.keyCaptureList&&this._currentEditor.keyCaptureList.indexOf(e.which)>=0)return;if(e.which==L.ESCAPE){if(!this.getEditorLock().isActive())return;this.cancelEditAndSetFocus()}else e.which==L.PAGEDOWN?(this.navigatePageDown(),t=!0):e.which==L.PAGEUP?(this.navigatePageUp(),t=!0):e.which==L.LEFT?t=this.navigateLeft():e.which==L.RIGHT?t=this.navigateRight():e.which==L.UP?t=this.navigateUp():e.which==L.DOWN?t=this.navigateDown():e.which==L.TAB?this._options.enableTabKeyNavigation&&(t=this.navigateNext()):e.which==L.ENTER&&(this._options.editable&&(this._currentEditor?this._activeRow===this.getDataLength()?this.navigateDown():this.commitEditAndSetFocus():this.getEditorLock().commitCurrentEdit()&&this.makeActiveCellEditable()),t=!0)}else e.which==L.TAB&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&(t=this.navigatePrev());if(t){e.stopPropagation(),e.preventDefault();try{e.originalEvent.keyCode=0}catch(s){}}}handleClick(e){this._currentEditor||(e.target!=document.activeElement||$(e.target).hasClass("slick-cell"))&&this.setFocus();var t=this.getCellFromEvent(e);if(!(!t||this._currentEditor!=null&&this._activeRow==t.row&&this._activeCell==t.cell)&&(this.trigger(this.onClick,{row:t.row,cell:t.cell},e),!e.isImmediatePropagationStopped()&&this.canCellBeActive(t.row,t.cell)&&(!this.getEditorLock().isActive()||this.getEditorLock().commitCurrentEdit()))){var s=e.target&&e.target.classList.contains(V),i=this._cols[t.cell],o=!!(this._options.editable&&i&&i.editor&&this._options.suppressActiveCellChangeOnEdit);this.setActiveCellInternal(this.getCellNode(t.row,t.cell),null,s,o,e)}}handleContextMenu(e){var t=$(e.target).closest(".slick-cell",this._container);t.length!==0&&(this._activeCellNode===t[0]&&this._currentEditor!=null||this.trigger(this.onContextMenu,{},e))}handleDblClick(e){var t=this.getCellFromEvent(e);!t||this._currentEditor!=null&&this._activeRow==t.row&&this._activeCell==t.cell||(this.trigger(this.onDblClick,{row:t.row,cell:t.cell},e),!e.isImmediatePropagationStopped()&&this._options.editable&&this.gotoCell(t.row,t.cell,!0))}handleHeaderMouseEnter(e){let t=this.getColumnFromNode(e.target);t&&this.trigger(this.onHeaderMouseEnter,{column:t},e)}handleHeaderMouseLeave(e){let t=this.getColumnFromNode(e.target);t&&this.trigger(this.onHeaderMouseLeave,{column:t},e)}handleHeaderContextMenu(e){var t=e.target.closest(".slick-header-column"),s=this.getColumnFromNode(t);s&&this.trigger(this.onHeaderContextMenu,{column:s},e)}handleHeaderClick(e){var t=e.target.closest(".slick-header-column"),s=this.getColumnFromNode(t);s&&this.trigger(this.onHeaderClick,{column:s},e)}handleMouseEnter(e){this.trigger(this.onMouseEnter,{},e)}handleMouseLeave(e){this.trigger(this.onMouseLeave,{},e)}cellExists(e,t){return!(e<0||e>=this.getDataLength()||t<0||t>=this._cols.length)}getCellFromPoint(e,t){for(var s=this.getRowFromPosition(t),i=0,o=this._cols,r=0,l=0;l<o.length&&r<e;l++)r+=o[l].width,i++;return i<0&&(i=0),{row:s,cell:i-1}}getCellFromNode(e){if(e==null)return null;var t=e.dataset.c;if(t!=null)return parseInt(t,10);var s=/\sl(\d+)\s/.exec(" "+e.className+" ");return s?parseInt(s[1],10):null}getColumnFromNode(e){if(e==null)return null;var t=this.getCellFromNode(e);return t===null&&typeof $!="undefined"?$(t).data("column"):this._cols[t]}getRowFromNode(e){if(e!=null)for(var t in this._rowsCache){var s=this._rowsCache[t];if(s.rowNodeL===e||s.rowNodeR===e)return parseInt(t,10)}return null}getFrozenRowOffset(e){var t=this._hasFrozenRows?this._options.frozenBottom?e>=this._actualFrozenRow?this._realScrollHeight<this._viewportTopH?this._actualFrozenRow*this._options.rowHeight:this._realScrollHeight:0:e>=this._actualFrozenRow?this._frozenRowsHeight:0:0;return t}getCellFromEvent(e){var t,s,i=e.target.closest(".slick-cell");if(!i)return null;if(t=this.getRowFromNode(i.parentNode),this._hasFrozenRows){var o=i.closest(".grid-canvas").getBoundingClientRect(),r=0,l=i.closest(".grid-canvas-bottom")!=null;l&&(r=this._options.frozenBottom?Math.round(parseFloat(getComputedStyle(this._canvasTopL).height)):this._frozenRowsHeight),t=this.getCellFromPoint(e.clientX-o[this._rtlS]-document.body.scrollLeft,e.clientY-o.top+document.body.scrollTop+r+document.body.scrollTop).row}return s=this.getCellFromNode(i),t==null||s==null?null:{row:t,cell:s}}getCellNodeBox(e,t){if(!this.cellExists(e,t))return null;for(var s=this.getFrozenRowOffset(e),i=this._cols,o=this._frozenCols,r=this.getRowTop(e)-s,l=r+this._options.rowHeight-1,n=0,a=0;a<t;a++)n+=i[a].width,a==o-1&&(n=0);var d=n+i[t].width;return this._rtl?{top:r,right:n,bottom:l,left:d}:{top:r,left:n,bottom:l,right:d}}resetActiveCell(){this.setActiveCellInternal(null,!1)}focus(){this.setFocus()}setFocus(){this._tabbingDirection==-1?this._focusSink1.focus():this._focusSink2.focus()}scrollCellIntoView(e,t,s){if(this.scrollRowIntoView(e,s),!(t<this._frozenCols)){var i=this.getColspan(e,t);this.internalScrollColumnIntoView(this._colLeft[t],this._colRight[t+(i>1?i-1:0)])}}scrollColumnIntoView(e){this.internalScrollColumnIntoView(this._colLeft[e],this._colRight[e])}internalScrollColumnIntoView(e,t){var s=this._scrollLeft+parseFloat(getComputedStyle(this._scrollContainerX).width)-(this._viewportHasVScroll?this._scrollDims.width:0),i;if(e<this._scrollLeft)i=e;else if(t>s)i=Math.min(e,t-this._scrollContainerX.clientWidth);else return;this._scrollContainerX.scrollLeft=i,this.handleScroll(),this.render()}setActiveCellInternal(e,t,s,i,o){if(this._activeCellNode!=null){this.makeActiveCellNormal(),this._activeCellNode.classList.remove("active");var r=this._rowsCache[this._activeRow];r&&(r.rowNodeL&&r.rowNodeL.classList.remove("active"),r.rowNodeR&&r.rowNodeR.classList.remove("active"))}if(this._activeCellNode=e,this._activeCellNode!=null){var l=this._activeCellNode.getBoundingClientRect(),n=Math.floor(this._activeCellNode.closest(".grid-canvas").getBoundingClientRect().top+document.body.scrollTop),a=this._activeCellNode.closest(".grid-canvas-bottom")!=null;this._hasFrozenRows&&a&&(n-=this._options.frozenBottom?Math.round(parseFloat(getComputedStyle(this._canvasTopL).height)):this._frozenRowsHeight);var d=this.getCellFromPoint(l[this._rtlS]+document.body.scrollLeft,Math.ceil(l.top+document.body.scrollTop)-n);if(this._activeRow=d.row,this._activeCell=this._activePosX=this.getCellFromNode(this._activeCellNode),this._options.showCellSelection){this._activeCellNode.classList.add("active");var r=this._rowsCache[this._activeRow];r&&(r.rowNodeL&&r.rowNodeL.classList.add("active"),r.rowNodeR&&r.rowNodeR.classList.add("active"))}t==null&&(t=this._activeRow==this.getDataLength()||this._options.autoEdit),this._options.editable&&t&&this.isCellPotentiallyEditable(this._activeRow,this._activeCell)&&(clearTimeout(this._hEditorLoader),this._options.asyncEditorLoading?this._hEditorLoader=setTimeout(()=>{this.makeActiveCellEditable(void 0,s,o)},this._options.asyncEditorLoadDelay):this.makeActiveCellEditable(void 0,s,o))}else this._activeRow=this._activeCell=null;i||this.trigger(this.onActiveCellChanged,this.getActiveCell())}clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}else if(window.getSelection){var e=window.getSelection();e&&e.removeAllRanges&&e.removeAllRanges()}}isCellPotentiallyEditable(e,t){var s=this.getDataLength();return!(e<s&&!this.getDataItem(e)||this._cols[t].cannotTriggerInsert&&e>=s||!this.getEditor(e,t))}makeActiveCellNormal(){if(!!this._currentEditor){if(this.trigger(this.onBeforeCellEditorDestroy,{editor:this._currentEditor}),this._currentEditor.destroy(),this._currentEditor=null,this._activeCellNode){var e=this.getDataItem(this._activeRow);if(this._activeCellNode.classList.remove("editable","invalid"),e){var t=this._cols[this._activeCell],s=e?this.getFormatter(this._activeRow,t)(this._activeRow,this._activeCell,this.getDataItemValueForColumn(e,t),t,e):"";this.applyFormatResultToCellNode(s,this._activeCellNode),this.invalidatePostProcessingResults(this._activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&this.clearTextSelection(),this.getEditorLock().deactivate(this._editController)}}editActiveCell(e){this.makeActiveCellEditable(e)}makeActiveCellEditable(e,t,s){if(!!this._activeCellNode){if(!this._options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";if(clearTimeout(this._hEditorLoader),!!this.isCellPotentiallyEditable(this._activeRow,this._activeCell)){var i=this._cols[this._activeCell],o=this.getDataItem(this._activeRow);if(this.trigger(this.onBeforeEditCell,{row:this._activeRow,cell:this._activeCell,item:o,column:i})===!1){this.setFocus();return}this.getEditorLock().activate(this._editController),this._activeCellNode.classList.add("editable");var r=e||this.getEditor(this._activeRow,this._activeCell);!e&&!r.suppressClearOnEdit&&(this._activeCellNode.innerHTML="");var l=this._data.getItemMetadata&&this._data.getItemMetadata(this._activeRow);l=l&&l.columns;var n=l&&(l[i.id]||l[this._activeCell]);this._currentEditor=new r({grid:this,gridPosition:this.absBox(this._container),position:this.absBox(this._activeCellNode),container:this._activeCellNode,column:i,item:o||{},event:s,commitChanges:this.commitEditAndSetFocus,cancelChanges:this.cancelEditAndSetFocus}),o&&(this._currentEditor.loadValue(o),t&&this._currentEditor.preClick&&this._currentEditor.preClick()),this._serializedEditorValue=this._currentEditor.serializeValue(),this._currentEditor.position&&this.handleActiveCellPositionChange()}}}commitEditAndSetFocus(){this.getEditorLock().commitCurrentEdit()&&(this.setFocus(),this._options.autoEdit&&this.navigateDown())}cancelEditAndSetFocus(){this.getEditorLock().cancelCurrentEdit()&&this.setFocus()}absBox(e){var t={top:e.offsetTop,bottom:0,width:e.offsetWidth,height:e.offsetHeight,visible:!0};t[this._rtlS]=e.offsetLeft,t[this._rtlE]=0,t.bottom=t.top+t.height,t[this._rtlE]=t[this._rtlS]+t.width;for(var s=e.offsetParent;(e=e.parentNode)!=document.body;)t.visible&&e.scrollHeight!=e.offsetHeight&&getComputedStyle(e).overflowY!=="visible"&&(t.visible=t.bottom>e.scrollTop&&t.top<e.scrollTop+e.clientHeight),t.visible&&e.scrollWidth!=e.offsetWidth&&getComputedStyle(e).overflowX!="visible"&&(t.visible=t[this._rtlE]>e.scrollLeft&&t[this._rtlS]<e.scrollLeft+e.clientWidth),t[this._rtlS]-=e.scrollLeft,t.top-=e.scrollTop,e===s&&(t.right+=e.offsetLeft,t.top+=e.offsetTop,s=e.offsetParent),t.bottom=t.top+t.height,t[this._rtlE]=t[this._rtlS]+t.width;return t}getActiveCellPosition(){return this.absBox(this._activeCellNode)}getGridPosition(){return this.absBox(this._container)}getCellEditor(){return this._currentEditor}getActiveCell(){return this._activeCellNode?{row:this._activeRow,cell:this._activeCell}:null}getActiveCellNode(){return this._activeCellNode}scrollActiveCellIntoView(){this._activeRow!=null&&this._activeCell!=null&&this.scrollCellIntoView(this._activeRow,this._activeCell)}scrollRowIntoView(e,t){if(!this._hasFrozenRows||!this._options.frozenBottom&&e>this._actualFrozenRow-1||this._options.frozenBottom&&e<this._actualFrozenRow-1){var s=Math.round(parseFloat(getComputedStyle(this._scrollContainerY).height)),i=this._hasFrozenRows&&!this._options.frozenBottom?e-this._options.frozenRow:e,o=i*this._options.rowHeight,r=(i+1)*this._options.rowHeight-s+(this._viewportHasHScroll?this._scrollDims.height:0);(i+1)*this._options.rowHeight>this._scrollTop+s+this._pageOffset?(this.scrollTo(t?o:r),this.render()):i*this._options.rowHeight<this._scrollTop+this._pageOffset&&(this.scrollTo(t?r:o),this.render())}}scrollRowToTop(e){this.scrollTo(e*this._options.rowHeight),this.render()}scrollPage(e){var t=e*this._numVisibleRows;if(this.scrollTo((this.getRowFromPosition(this._scrollTop)+t)*this._options.rowHeight),this.render(),this._options.enableCellNavigation&&this._activeRow!=null){var s=this._activeRow+t,i=this.getDataLengthIncludingAddNew();s>=i&&(s=i-1),s<0&&(s=0);for(var o=0,r=null,l=this._activePosX;o<=this._activePosX;)this.canCellBeActive(s,o)&&(r=o),o+=this.getColspan(s,o);r!=null?(this.setActiveCellInternal(this.getCellNode(s,r)),this._activePosX=l):this.resetActiveCell()}}navigatePageDown(){this.scrollPage(1)}navigatePageUp(){this.scrollPage(-1)}navigateTop(){this.navigateToRow(0)}navigateBottom(){this.navigateToRow(this.getDataLength()-1)}navigateToRow(e){var t=this.getDataLength();if(!t)return!0;if(e<0?e=0:e>=t&&(e=t-1),this.scrollCellIntoView(e,0,!0),this._options.enableCellNavigation&&this._activeRow!=null){for(var s=0,i=null,o=this._activePosX;s<=this._activePosX;)this.canCellBeActive(e,s)&&(i=s),s+=this.getColspan(e,s);i!=null?(this.setActiveCellInternal(this.getCellNode(e,i)),this._activePosX=o):this.resetActiveCell()}return!0}getColspan(e,t){var s=this._data.getItemMetadata&&this._data.getItemMetadata(e);if(!s||!s.columns)return 1;var i=this._cols,o=i[t]&&(s.columns[i[t].id]||s.columns[t]),r=o&&o.colspan;return r==="*"?r=i.length-t:r=r||1,r}findFirstFocusableCell(e){for(var t=0,s=this._cols;t<s.length;){if(this.canCellBeActive(e,t))return t;t+=this.getColspan(e,t)}return null}findLastFocusableCell(e){for(var t=0,s=null,i=this._cols;t<i.length;)this.canCellBeActive(e,t)&&(s=t),t+=this.getColspan(e,t);return s}gotoRight(e,t,s){var i=this._cols;if(t>=i.length)return null;do t+=this.getColspan(e,t);while(t<i.length&&!this.canCellBeActive(e,t));return t<i.length?{row:e,cell:t,posX:t}:null}gotoLeft(e,t,s){if(t<=0)return null;var i=this.findFirstFocusableCell(e);if(i===null||i>=t)return null;for(var o={row:e,cell:i,posX:i},r;;){if(r=this.gotoRight(o.row,o.cell,o.posX),!r)return null;if(r.cell>=t)return o;o=r}}gotoDown(e,t,s){for(var i,o=this.getDataLengthIncludingAddNew();;){if(++e>=o)return null;for(i=t=0;t<=s;)i=t,t+=this.getColspan(e,t);if(this.canCellBeActive(e,i))return{row:e,cell:i,posX:s}}}gotoUp(e,t,s){for(var i;;){if(--e<0)return null;for(i=t=0;t<=s;)i=t,t+=this.getColspan(e,t);if(this.canCellBeActive(e,i))return{row:e,cell:i,posX:s}}}gotoNext(e,t,s){if(e==null&&t==null&&(e=t=s=0,this.canCellBeActive(e,t)))return{row:e,cell:t,posX:t};var i=this.gotoRight(e,t,s);if(i)return i;for(var o=null,r=this.getDataLengthIncludingAddNew();++e<r;)if(o=this.findFirstFocusableCell(e),o!=null)return{row:e,cell:o,posX:o};return null}gotoPrev(e,t,s){var i=this._cols;if(e==null&&t==null&&(e=this.getDataLengthIncludingAddNew()-1,t=s=i.length-1,this.canCellBeActive(e,t)))return{row:e,cell:t,posX:t};for(var o,r;!o&&(o=this.gotoLeft(e,t,s),!o);){if(--e<0)return null;t=0,r=this.findLastFocusableCell(e),r!=null&&(o={row:e,cell:r,posX:r})}return o}gotoRowStart(e){var t=this.findFirstFocusableCell(e);return t===null?null:{row:e,cell:t,posX:t}}gotoRowEnd(e){var t=this.findLastFocusableCell(e);return t===null?null:{row:e,cell:t,posX:t}}navigateRight(){return this.navigate("right")}navigateLeft(){return this.navigate("left")}navigateDown(){return this.navigate("down")}navigateUp(){return this.navigate("up")}navigateNext(){return this.navigate("next")}navigatePrev(){return this.navigate("prev")}navigateRowStart(){return this.navigate("home")}navigateRowEnd(){return this.navigate("end")}navigate(e){if(!this._options.enableCellNavigation||!this._activeCellNode&&e!="prev"&&e!="next")return!1;if(!this.getEditorLock().commitCurrentEdit())return!0;this.setFocus();var t={up:-1,down:1,prev:-1,next:1,home:-1,end:1};t[this._rtlS]=-1,t[this._rtlE]=1,this._tabbingDirection=t[e];var s={up:this.gotoUp,down:this.gotoDown,prev:this.gotoPrev,next:this.gotoNext,home:this.gotoRowStart,end:this.gotoRowEnd};s[this._rtlS]=this.gotoLeft,s[this._rtlE]=this.gotoRight;var i=s[e].bind(this),o=i(this._activeRow,this._activeCell,this._activePosX);if(o){if(this._hasFrozenRows&&this._options.frozenBottom&&o.row==this.getDataLength())return;var r=o.row==this.getDataLength();return(!this._options.frozenBottom&&o.row>=this._actualFrozenRow||this._options.frozenBottom&&o.row<this._actualFrozenRow)&&this.scrollCellIntoView(o.row,o.cell,!r),this.setActiveCellInternal(this.getCellNode(o.row,o.cell)),this._activePosX=o.posX,!0}else return this.setActiveCellInternal(this.getCellNode(this._activeRow,this._activeCell)),!1}getCellNode(e,t){return this._rowsCache[e]?(this.ensureCellNodesInRowsCache(e),this._rowsCache[e].cellNodesByColumnIdx[t]):null}setActiveCell(e,t){if(!!this._initialized){var s=this._cols;e>this.getDataLength()||e<0||t>=s.length||t<0||!this._options.enableCellNavigation||(this.scrollCellIntoView(e,t,!1),this.setActiveCellInternal(this.getCellNode(e,t),!1))}}canCellBeActive(e,t){var s=this._cols;if(!this._options.enableCellNavigation||e>=this.getDataLengthIncludingAddNew()||e<0||t>=s.length||t<0)return!1;var i=this._data.getItemMetadata&&this._data.getItemMetadata(e);if(i&&typeof i.focusable=="boolean")return i.focusable;var o=i&&i.columns;return o&&s[t]&&o[s[t].id]&&typeof o[s[t].id].focusable=="boolean"?o[s[t].id].focusable:o&&o[t]&&typeof o[t].focusable=="boolean"?o[t].focusable:s[t].focusable}canCellBeSelected(e,t){var s=this._cols;if(e>=this.getDataLength()||e<0||t>=s.length||t<0)return!1;var i=this._data.getItemMetadata&&this._data.getItemMetadata(e);if(i&&typeof i.selectable=="boolean")return i.selectable;var o=i&&i.columns&&(i.columns[s[t].id]||i.columns[t]);return o&&typeof o.selectable=="boolean"?o.selectable:s[t].selectable}gotoCell(e,t,s){if(!!this._initialized&&!!this.canCellBeActive(e,t)&&!!this.getEditorLock().commitCurrentEdit()){this.scrollCellIntoView(e,t,!1);var i=this.getCellNode(e,t);this.setActiveCellInternal(i,s||e===this.getDataLength()||this._options.autoEdit),this._currentEditor||this.setFocus()}}commitCurrentEdit(){var e=this.getDataItem(this._activeRow),t=this._cols[this._activeCell],s=this;if(this._currentEditor){if(this._currentEditor.isValueChanged()){var i=this._currentEditor.validate();if(i.valid){if(this._activeRow<this.getDataLength()){var o={row:this._activeRow,cell:s._activeCell,editor:this._currentEditor,serializedValue:this._currentEditor.serializeValue(),prevSerializedValue:this._serializedEditorValue,execute:function(){this.editor.applyValue(e,this.serializedValue),s.updateRow(this.row),s.trigger(s.onCellChange,{row:this.activeRow,cell:s._activeCell,item:e})},undo:function(){this.editor.applyValue(e,this.prevSerializedValue),s.updateRow(this.row),s.trigger(s.onCellChange,{row:this.activeRow,cell:s._activeCell,item:e})}};this._options.editCommandHandler?(this.makeActiveCellNormal(),this._options.editCommandHandler(e,t,o)):(o.execute(),this.makeActiveCellNormal())}else{var r={};this._currentEditor.applyValue(r,this._currentEditor.serializeValue()),this.makeActiveCellNormal(),this.trigger(this.onAddNewRow,{item:r,column:t})}return!this.getEditorLock().isActive()}else return this._activeCellNode.classList.remove("invalid"),this._activeCellNode.offsetWidth,this._activeCellNode.classList.add("invalid"),this.trigger(this.onValidationError,{editor:this._currentEditor,cellNode:this._activeCellNode,validationResults:i,row:this._activeRow,cell:this._activeCell,column:t}),this._currentEditor.focus(),!1}this.makeActiveCellNormal()}return!0}cancelCurrentEdit(){return this.makeActiveCellNormal(),!0}rowsToRanges(e){for(var t=[],s=this._cols.length-1,i=0;i<e.length;i++)t.push(new O(e[i],0,e[i],s));return t}getSelectedRows(){if(!this._selectionModel)throw"Selection model is not set";return this._selectedRows}setSelectedRows(e){if(!this._selectionModel)throw"Selection model is not set";this._selectionModel.setSelectedRanges(this.rowsToRanges(e))}};return ee(te);})();
Object.assign(Slick, Slick_); delete Slick_;
//# sourceMappingURL=slick.grid.min.js.map
